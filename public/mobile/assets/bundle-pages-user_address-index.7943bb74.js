import{d as e,q as t,X as s,I as a,aB as l,az as c,o as d,v as i,g as u,l as o,w as r,F as n,x as f,c as x,k as _,P as p,b7 as m,e as v,f as b,i as y,a8 as k,V as g,t as C,ak as h,ay as w,b8 as j,m as z}from"./index-81cd8d96.js";import{_ as I}from"./page-meta.31474f74.js";import{_ as $}from"./u-icon.1e505d03.js";import{_ as q}from"./_plugin-vue_export-helper.1b428a4d.js";const A=q(e({__name:"index",setup(e){const q=t(!1),A=t(0),B=t([]),F=async e=>{var t,s;const a=null==(s=null==(t=null==e?void 0:e.currentTarget)?void 0:t.dataset)?void 0:s.id;try{q.value&&(c("address",a),h())}catch(l){console.log(l,"设置默认地址捕捉错误")}},L=(e="")=>{p({url:`/bundle/pages/user_address_edit/index?id=${e}`})},M=e=>{w({title:"温馨提示",content:"确认删除该地址？",success:async t=>{t.confirm&&(await j({id:e}),N())}})},N=async()=>{B.value=await m({goods_id:A.value})};return s((e=>{A.value=null==e?void 0:e.goods_id,e.type&&(q.value=e.type)})),a((()=>{N()})),l((()=>{c("changeAddress")})),(e,t)=>{const s=v(b("page-meta"),I),a=y,l=z,c=v(b("u-icon"),$),p=k;return d(),i(n,null,[u(s,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),o(" 收货地址的列表数据 "),u(a,{class:"address-list"},{default:r((()=>{var e,s;return[o(" 可用的 "),u(a,null,{default:r((()=>[(d(!0),i(n,null,f(B.value.usable,((e,t)=>(d(),x(a,{key:e.id,class:"address-list--item u-flex justify-between mb-[20rpx]","data-id":e.id,onClick:g(F,["stop"])},{default:r((()=>[u(a,{class:"flex-1"},{default:r((()=>[u(a,{class:"sm text-muted text-[26rpx] mb-[20rpx]"},{default:r((()=>[_(C(e.province)+" "+C(e.city)+" "+C(e.district),1)])),_:2},1024),u(a,null,{default:r((()=>[u(l,{class:"text-[30rpx] font-bold"},{default:r((()=>[_(C(e.address),1)])),_:2},1024),e.is_default?(d(),x(l,{key:0,class:"default"},{default:r((()=>[_("默认")])),_:1})):o("v-if",!0)])),_:2},1024),u(a,{class:"mt-[20rpx] sm text-muted text-[26rpx]"},{default:r((()=>[_(C(e.contact)+" "+C(e.sex_desc)+" "+C(e.mobile),1)])),_:2},1024)])),_:2},1024),u(a,{class:"flex"},{default:r((()=>[u(a,{class:"mr-[40rpx]",onClick:g((t=>L(e.id)),["stop"])},{default:r((()=>[u(c,{name:"edit-pen",color:"#909399",size:40})])),_:2},1032,["onClick"]),u(a,{onClick:g((t=>M(e.id)),["stop"])},{default:r((()=>[u(c,{name:"trash",color:"#909399",size:40})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["data-id","onClick"])))),128))])),_:1}),o(" 不可用的 "),(null==(e=B.value.unusable_goods)?void 0:e.length)?(d(),x(a,{key:0,class:"mt-[40rpx]"},{default:r((()=>[u(a,{class:"mb-[20rpx] text-sm text-muted"},{default:r((()=>[_("以下地址暂不在服务范围")])),_:1}),(d(!0),i(n,null,f(B.value.unusable_goods,((e,t)=>(d(),x(a,{key:e.id,class:"address-list--item u-flex justify-between mt-[20rpx]"},{default:r((()=>[u(a,{class:"flex-1"},{default:r((()=>[u(a,{class:"sm text-[#c8c9cc] text-[26rpx] mb-[20rpx]"},{default:r((()=>[_(C(e.province)+" "+C(e.city)+" "+C(e.district),1)])),_:2},1024),u(a,{class:"text-[#c8c9cc]"},{default:r((()=>[u(l,{class:"text-[30rpx] font-bold"},{default:r((()=>[_(C(e.address),1)])),_:2},1024),e.is_default?(d(),x(l,{key:0,class:"default"},{default:r((()=>[_("默认")])),_:1})):o("v-if",!0)])),_:2},1024),u(a,{class:"mt-[20rpx] sm text-[#c8c9cc] text-[26rpx]"},{default:r((()=>[_(C(e.contact)+" "+C(e.mobile),1)])),_:2},1024)])),_:2},1024),u(a,{class:"flex"},{default:r((()=>[u(a,{class:"mr-[40rpx]",onClick:g((t=>L(e.id)),["stop"])},{default:r((()=>[u(c,{name:"edit-pen",color:"#c8c9cc",size:40})])),_:2},1032,["onClick"]),u(a,{onClick:g((t=>M(e.id)),["stop"])},{default:r((()=>[u(c,{name:"trash",color:"#c8c9cc",size:40})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):o("v-if",!0),o(" 不可用的 "),(null==(s=B.value.unusable_address)?void 0:s.length)?(d(),x(a,{key:1,class:"mt-[40rpx]"},{default:r((()=>[u(a,{class:"mb-[20rpx] text-sm text-muted"},{default:r((()=>[_("以下地址暂不在开通范围")])),_:1}),(d(!0),i(n,null,f(B.value.unusable_address,((e,t)=>(d(),x(a,{key:e.id,class:"address-list--item u-flex justify-between mt-[20rpx]"},{default:r((()=>[u(a,{class:"flex-1"},{default:r((()=>[u(a,{class:"sm text-[#c8c9cc] text-[26rpx] mb-[20rpx]"},{default:r((()=>[_(C(e.province)+" "+C(e.city)+" "+C(e.district),1)])),_:2},1024),u(a,{class:"text-[#c8c9cc]"},{default:r((()=>[u(l,{class:"text-[30rpx] font-bold"},{default:r((()=>[_(C(e.address),1)])),_:2},1024),e.is_default?(d(),x(l,{key:0,class:"default"},{default:r((()=>[_("默认")])),_:1})):o("v-if",!0)])),_:2},1024),u(a,{class:"mt-[20rpx] sm text-[#c8c9cc] text-[26rpx]"},{default:r((()=>[_(C(e.contact)+" "+C(e.mobile),1)])),_:2},1024)])),_:2},1024),u(a,{class:"flex"},{default:r((()=>[u(a,{class:"mr-[40rpx]",onClick:g((t=>L(e.id)),["stop"])},{default:r((()=>[u(c,{name:"edit-pen",color:"#c8c9cc",size:40})])),_:2},1032,["onClick"]),u(a,{onClick:g((t=>M(e.id)),["stop"])},{default:r((()=>[u(c,{name:"trash",color:"#c8c9cc",size:40})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):o("v-if",!0),u(a,{class:"fixed flex items-center justify-between bg-white footer"},{default:r((()=>[u(a,null,{default:r((()=>[u(p,{class:"bg-primary text-lg text-white leading-[80rpx] h-[80rpx]",onClick:t[0]||(t[0]=e=>L(""))},{default:r((()=>[_(" 添加地址 ")])),_:1})])),_:1})])),_:1})]})),_:1})],64)}}}),[["__scopeId","data-v-1f4f381f"]]);export{A as default};
