import{d as e,o as t,c as s,w as r,r as o,n as l,i as a,u as n,a as i,b as d,e as c,f as u,g as p,h as y,j as _,k as m,t as f,l as b,m as g,p as x,q as v,s as h,v as k,F as w,x as $,S as j,y as S,z as C,A as z,B as F,C as I,D as T,E as O,G as B,H as L,I as A,J as E,K as N,L as U,M as R}from"./index-81cd8d96.js";import{_ as M}from"./page-meta.31474f74.js";import{_ as P}from"./u-icon.1e505d03.js";import{_ as W}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as Z}from"./u-swiper.be0e1caa.js";import{n as D,s as q,f as G}from"./util.4309b5a4.js";import{_ as H}from"./u-image.b1460259.js";import{_ as J}from"./modal-popup.cb53cf63.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang.a1320ad3.js";import"./u-button.392aee34.js";import"./u-popup.0f1c5899.js";import"./u-badge.d618a77d.js";const Q=e({__name:"widget-root",props:{styles:{type:Object,default:()=>({})}},setup:e=>(n,i)=>{const d=a;return t(),s(d,{class:"widget-root",style:l({padding:`${e.styles.padding_top}px ${e.styles.padding_horizontal}px ${e.styles.padding_bottom}px`,"background-color":e.styles.root_bg_color,"border-radius":`${e.styles.radius}px`})},{default:r((()=>[o(n.$slots,"default")])),_:3},8,["style"])}}),V=W(e({__name:"search",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},isLargeScreen:{type:Boolean},location:{type:Object,default:()=>({})},percent:{type:Number}},setup(e){const o=e,x=n();return i(),d((()=>o.pageMeta[0].content)),(o,n)=>{const i=c(u("u-icon"),P),d=a,v=g,h=c(u("widget-root"),Q);return t(),s(d,null,{default:r((()=>[e.content.enabled?(t(),s(h,{key:0,styles:e.styles},{default:r((()=>[p(d,{class:"search flex items-center"},{default:r((()=>[y("div",{class:"flex items-center mr-4",onClick:n[0]||(n[0]=e=>_(x).navigateTo("/bundle/pages/location/index"))},[p(i,{name:"map",size:"32"}),p(d,{style:{width:"100rpx"},class:"text-main text-base line-clamp-1"},{default:r((()=>[m(f(e.location.name||"请选择"),1)])),_:1}),p(i,{name:"arrow-down",size:"20"})]),p(d,{class:"search-con flex-1 flex items-center px-[30rpx]",style:l({background:e.styles.component_bg_color}),onClick:n[1]||(n[1]=e=>_(x).navigateTo("/bundle/pages/search/index"))},{default:r((()=>[p(i,{name:"search",size:"30",color:e.styles.icon_color},null,8,["color"]),p(d,{class:"flex-1",style:l({"text-align":e.styles.align,color:e.styles.text_color})},{default:r((()=>[p(v,{class:"mr-[10rpx]"},{default:r((()=>[m(f(e.content.placeholder),1)])),_:1})])),_:1},8,["style"])])),_:1},8,["style"])])),_:1})])),_:1},8,["styles"])):b("v-if",!0)])),_:1})}}}),[["__scopeId","data-v-0e1623b3"]]),X=e({__name:"l-swiper",props:{content:{default:{data:[]}},mode:{default:"round"},height:{default:"340"},indicatorPos:{default:"bottomCenter"},effect3d:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!0},interval:{default:"2500"},duration:{default:300},circular:{type:Boolean,default:!0},current:{default:0},name:{default:"image"},borderRadius:{default:"0"},bgColor:{default:"#f3f4f6"}},emits:["change"],setup(e,{emit:r}){const o=e,{getImageUrl:l}=i();x((()=>{var e;try{const t=null==o?void 0:o.content,s=null==(e=null==t?void 0:t.data)?void 0:e.length;if(!s)return;for(let e=0;e<s;e++){const s=t.data[e];s.image=l(s.image)}r("change",0)}catch(t){console.log("轮播图数据错误",t)}}));const a=d((()=>o.content.data||[]));n();const p=e=>{var t;const s=null==(t=o.content.data[e])?void 0:t.link;s&&D(s)},y=e=>{r("change",e)};return(r,o)=>{const l=c(u("u-swiper"),Z);return _(a).length?(t(),s(l,{key:0,list:_(a),mode:e.mode,height:e.height,effect3d:e.effect3d,"indicator-pos":e.indicatorPos,autoplay:e.autoplay,interval:e.interval,duration:e.duration,circular:e.circular,borderRadius:e.borderRadius,current:e.current,name:e.name,"bg-color":e.bgColor,onClick:p,onChange:y},null,8,["list","mode","height","effect3d","indicator-pos","autoplay","interval","duration","circular","borderRadius","current","name","bg-color"])):b("v-if",!0)}}}),Y=e({__name:"banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},emits:["change"],setup(e,{emit:o}){const l=e,{getImageUrl:n}=i(),d=e=>{o("change",n(l.content.data[e].bg))};return(o,l)=>{const n=a,i=c(u("widget-root"),Q);return e.content.data.length&&e.content.enabled?(t(),s(i,{key:0,styles:e.styles},{default:r((()=>[p(n,{class:"banner translate-y-0"},{default:r((()=>[p(X,{content:e.content,height:2===e.content.style?"1100":"321",circular:!0,effect3d:e.styles.effect3d,mode:e.styles.mode,"border-radius":e.styles.border_radius,"indicator-pos":e.styles.indicator_pos,interval:"7000",bgColor:"transparent",onChange:d},null,8,["content","height","effect3d","mode","border-radius","indicator-pos"])])),_:1})])),_:1},8,["styles"])):b("v-if",!0)}}}),ee=e({__name:"nav",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const o=e,{getImageUrl:n}=i(),g=v(0),x=v([]),C=d((()=>o.content.per_line*o.content.show_line));h((()=>o.content.data),(e=>{const t=1===o.content.style?e.length:C.value;x.value=q(e,t)}),{deep:!0,immediate:!0});const z=e=>{g.value=e.detail.current};return(o,i)=>{const d=c(u("u-image"),H),g=a,v=j,h=S,C=c(u("widget-root"),Q);return x.value.length&&e.content.enabled?(t(),s(C,{key:0,styles:e.styles},{default:r((()=>[y("div",{class:"relative"},[p(h,{class:"py-[20rpx] bg-white rounded-lg",style:l({height:x.value[0].length>e.content.per_line?"288rpx":"132rpx","grid-template-columns":`repeat(${e.content.per_line}, 1fr)`,"background-color":e.styles.component_bg_color,"border-radius":`${e.styles.border_top_radius}px ${e.styles.border_top_radius}px ${e.styles.border_bottom_radius}px ${e.styles.border_bottom_radius}px`}),autoplay:!1,"indicator-dots":!1,onChange:z},{default:r((()=>[(t(!0),k(w,null,$(x.value,((o,a)=>(t(),s(v,{key:a},{default:r((()=>[x.value.length&&e.content.enabled?(t(),s(g,{key:0,class:"nav"},{default:r((()=>[p(g,{class:"grid grid-rows-auto gap-y-3 w-full",style:l({"grid-template-columns":`repeat(${e.content.per_line}, 1fr)`})},{default:r((()=>[(t(!0),k(w,null,$(o,((o,l)=>(t(),s(g,{key:l,class:"flex flex-col items-center",onClick:e=>{return t=o.link,void D(t);var t}},{default:r((()=>[1==e.content.navigator_type||2==e.content.navigator_type?(t(),s(d,{key:0,width:"82",height:"82",src:_(n)(o.image),"border-radius":e.styles.image_radius},null,8,["src","border-radius"])):b("v-if",!0),1==e.content.navigator_type||3==e.content.navigator_type?(t(),s(g,{key:1,class:"mt-[14rpx] text-xs"},{default:r((()=>[m(f(o.name),1)])),_:2},1024)):b("v-if",!0)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["style"])])),_:2},1024)):b("v-if",!0)])),_:2},1024)))),128))])),_:1},8,["style"])])])),_:1},8,["styles"])):b("v-if",!0)}}}),te=W(e({__name:"title-bar",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup:e=>(o,a)=>{const n=g,i=c(u("u-icon"),P),d=c(u("widget-root"),Q);return e.content.enabled?(t(),s(d,{key:0,styles:e.styles},{default:r((()=>[y("div",{class:"title-bar flex justify-between"},[y("div",{class:"flex items-baseline ml-2"},[y("div",{class:"font-medium",style:l({color:e.styles.title_color,"font-size":e.styles.title_size/2+"px"})},f(e.content.title),5),y("div",{class:"ml-2",style:l({color:e.styles.subtitle_color,"font-size":e.styles.subtitle_size/2+"px"})},f(e.content.subtitle),5)]),e.content.show_right_btn?(t(),k("div",{key:0,class:"flex items-center",style:l({color:e.content.btnColor}),onClick:a[0]||(a[0]=t=>(e=>{let t="navigateTo";-1!=["/pages/index/index","/pages/category/index","/pages/order/index","/pages/user/user"].indexOf(e.path||"")&&(t="switchTab"),D(e,t)})(e.content.link))},[p(n,{class:"mr-1"},{default:r((()=>[m(f(e.content.btnText),1)])),_:1}),p(i,{name:"arrow-right",size:"24",color:"inherit"})],4)):b("v-if",!0)])])),_:1},8,["styles"])):b("v-if",!0)}}),[["__scopeId","data-v-0e6b3589"]]),se=W(e({__name:"rubik",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},isLargeScreen:{type:Boolean}},setup(e){const o=e,{getImageUrl:a}=i(),n=d((()=>o.content.data)),m=e=>{D(e.link)};return(o,i)=>{const d=c(u("u-image"),H),f=c(u("u-icon"),P),g=C("Icon"),x=c(u("widget-root"),Q);return t(),s(x,{styles:e.styles},{default:r((()=>[y("div",{class:"rubik"},[1==e.content.style?(t(),k("div",{key:0,class:"rubik-item1"},[_(n)[0]&&_(n)[0].url?(t(),k("div",{key:0,class:"item-image overflow-hidden",style:l({border:`${e.styles.image_gap}rpx solid transparent`}),onClick:i[0]||(i[0]=e=>m(_(n)[0]))},[p(d,{mode:"widthFix","show-loading":!1,"border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(a)(_(n)[0].url)},null,8,["border-radius","src"])],4)):(t(),s(d,{key:1,style:{height:"375px",width:"100%"}},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full"},[p(f,{name:"iicture",size:"40",color:"#999"})])])),_:1}))])):b("v-if",!0),2==e.content.style?(t(),k("div",{key:1,class:"rubik-item2"},[(t(!0),k(w,null,$(_(n),((r,o)=>(t(),k("div",{class:"item-image overflow-hidden",key:o,style:l({border:`${e.styles.image_gap}rpx solid transparent`}),onClick:e=>m(r)},[r&&r.url?(t(),s(d,{key:0,mode:"widthFix","show-loading":!1,"border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(a)(r.url)},null,8,["border-radius","src"])):b("v-if",!0)],12,["onClick"])))),128))])):b("v-if",!0),3==e.content.style?(t(),k("div",{key:2,class:"rubik-item3"},[(t(!0),k(w,null,$(_(n),((r,o)=>(t(),k("div",{class:"item-image overflow-hidden",key:o,style:l({border:`${e.styles.image_gap}rpx solid transparent`}),onClick:e=>m(r)},[r&&r.url?(t(),s(d,{key:0,mode:"widthFix","show-loading":!1,"border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(a)(r.url)},null,8,["border-radius","src"])):b("v-if",!0)],12,["onClick"])))),128))])):b("v-if",!0),4==e.content.style?(t(),k("div",{key:3,class:"rubik-item4 h-[750rpx]"},[y("div",{class:"w-1/2"},[y("div",{class:"box-border overflow-hidden h-full",style:l({border:`${e.styles.image_gap}rpx solid transparent`}),onClick:i[1]||(i[1]=e=>m(_(n)[0]))},[p(d,{width:"100%",height:"100%","border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(n)[0]&&_(a)(_(n)[0].url)},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full bg-[#F6FAFE]"},[p(g,{name:"local-icon-Frame",size:"50"})])])),_:1},8,["border-radius","src"])],4)]),y("div",{class:"w-1/2 flex flex-col"},[y("div",{class:"box-border overflow-hidden",style:l({height:"375rpx",border:`${e.styles.image_gap}rpx solid transparent`}),onClick:i[2]||(i[2]=e=>m(_(n)[1]))},[p(d,{width:"100%",height:"100%","border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(n)[1]&&_(a)(_(n)[1].url)},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full bg-[#F6FAFE]"},[p(g,{name:"local-icon-Frame",size:"50"})])])),_:1},8,["border-radius","src"])],4),y("div",{class:"box-border overflow-hidden",style:l({height:"375rpx",border:`${e.styles.image_gap}rpx solid transparent`}),onClick:i[3]||(i[3]=e=>m(_(n)[2]))},[p(d,{width:"100%",height:"100%","border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(n)[2]&&_(a)(_(n)[2].url)},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full bg-[#F6FAFE]"},[p(g,{name:"local-icon-Frame",size:"50"})])])),_:1},8,["border-radius","src"])],4)])])):b("v-if",!0),5==e.content.style?(t(),k("div",{key:4,class:"rubik-item5 h-[750rpx]"},[(t(!0),k(w,null,$(_(n),((s,o)=>(t(),k("div",{class:"item-image overflow-hidden",key:o,style:l({border:`${e.styles.image_gap}rpx solid transparent`}),onClick:e=>m(s)},[p(d,{width:"100%",height:"100%",fit:"cover","border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:s&&_(a)(s.url)},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full bg-[#F6FAFE]"},[p(g,{name:"local-icon-Frame",size:"50"})])])),_:2},1032,["border-radius","src"])],12,["onClick"])))),128))])):b("v-if",!0),6==e.content.style?(t(),k("div",{key:5,class:"rubik-item6"},[y("div",{class:"item-image overflow-hidden",style:l({height:"188rpx",border:`${e.styles.image_gap}rpx solid transparent`}),onClick:i[4]||(i[4]=e=>m(_(n)[0]))},[p(d,{width:"100%",height:"188",fit:"cover","border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(n)[0]&&_(a)(_(n)[0].url)},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full bg-[#F6FAFE]"},[p(g,{name:"local-icon-Frame",size:"50"})])])),_:1},8,["border-radius","src"])],4),y("div",{class:"flex"},[y("div",{class:"item-image overflow-hidden",style:l({width:"100%",margin:`${e.styles.image_gap}rpx`}),onClick:i[5]||(i[5]=e=>m(_(n)[1]))},[p(d,{width:"100%",height:"188",fit:"cover","border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(n)[1]&&_(a)(_(n)[1].url)},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full bg-[#F6FAFE]"},[p(g,{name:"local-icon-Frame",size:"50"})])])),_:1},8,["border-radius","src"])],4),y("div",{class:"item-image overflow-hidden",style:l({width:"100%",margin:`${e.styles.image_gap}rpx`}),onClick:i[6]||(i[6]=e=>m(_(n)[2]))},[p(d,{width:"100%",height:"188",fit:"cover","border-radius":`${e.styles.border_top_radius}rpx ${e.styles.border_top_radius}rpx ${e.styles.border_bottom_radius}rpx ${e.styles.border_bottom_radius}rpx`,src:_(n)[2]&&_(a)(_(n)[2].url)},{error:r((()=>[y("div",{class:"flex justify-center items-center w-full h-full bg-[#F6FAFE]"},[p(g,{name:"local-icon-Frame",size:"50"})])])),_:1},8,["border-radius","src"])],4)])])):b("v-if",!0)])])),_:1},8,["styles"])}}}),[["__scopeId","data-v-185ffe65"]]),re=W(e({__name:"price",props:{content:{default:""},prec:{default:2},autoPrec:{type:Boolean,default:!0},color:{default:"#FA8919"},mainSize:{default:"36rpx"},minorSize:{default:"28rpx"},lineThrough:{type:Boolean,default:!1},fontWeight:{default:"normal"},prefix:{default:"￥"},suffix:{default:""}},setup(e){const n=e,i=d((()=>G({price:n.content,take:"int"}))),c=d((()=>{let e=G({price:n.content,take:"dec",prec:n.prec});return e=e%10==0?e.substr(0,e.length-1):e,n.autoPrec?1*e?"."+e:"":n.prec?"."+e:""}));return(n,d)=>{const u=a,y=g;return t(),s(u,{class:"price-container"},{default:r((()=>[p(u,{class:z(["price-wrap",{"price-wrap--disabled":e.lineThrough}]),style:l({color:e.color})},{default:r((()=>[b(" Prefix "),p(u,{class:"fix-pre",style:l({fontSize:e.minorSize})},{default:r((()=>[o(n.$slots,"prefix",{},(()=>[m(f(e.prefix),1)]),!0)])),_:3},8,["style"]),b(" Content "),p(u,{style:l({"font-weight":e.fontWeight})},{default:r((()=>[b(" Integer "),p(y,{style:l({fontSize:e.mainSize})},{default:r((()=>[m(f(_(i)),1)])),_:1},8,["style"]),b(" Decimals "),p(y,{style:l({fontSize:e.minorSize})},{default:r((()=>[m(f(_(c)),1)])),_:1},8,["style"])])),_:1},8,["style"]),b(" Suffix "),p(u,{class:"fix-suf",style:l({fontSize:e.minorSize})},{default:r((()=>[o(n.$slots,"suffix",{},(()=>[m(f(e.suffix),1)]),!0)])),_:3},8,["style"])])),_:3},8,["class","style"])])),_:3})}}}),[["__scopeId","data-v-853ffec4"]]),oe=W(e({__name:"area-goods",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const o=e,a=n();return console.log(o.content.goods_list,o.content),(o,n)=>{const i=c(u("u-image"),H),d=c(u("widget-root"),Q);return t(),s(d,{styles:e.styles},{default:r((()=>[y("div",{class:"goods-group"},[y("div",{class:z(["goods-lists gap-y-2",{larger:4==e.content.goods_type,perline:2==e.content.goods_type,swiper:3==e.content.goods_type,lists:1==e.content.goods_type}]),style:l({"row-gap":`${e.styles.goods_vertical}px`,"column-gap":`${e.styles.goods_horizontal}px`})},[(t(!0),k(w,null,$(e.content.goods_list,((r,o)=>(t(),k("div",{class:"goods-wrap",key:o,style:l({background:e.styles.component_bg_color,"border-radius":`${e.styles.border_top_radius}px ${e.styles.border_top_radius}px ${e.styles.border_bottom_radius}px ${e.styles.border_bottom_radius}px`}),onClick:e=>_(a).navigateTo("/pages/goods/index?id="+r.id)},[y("div",{class:"goods-item"},[y("div",{class:"goods-image overflow-hidden flex-none",style:l({"--img-radius":`${e.styles.image_radius}px`})},[p(i,{src:null==r?void 0:r.image,width:"100%",height:"100%",fit:"cover"},null,8,["src"])],4),y("div",{class:z(["goods-info",{"p-2":1===e.content.goods_type,"mt-2":2===e.content.goods_type}])},[b("    非大图样式下显示    "),4!==e.content.goods_type?(t(),k(w,{key:0},[e.content.show_title?(t(),k("div",{key:0,class:"mb-1 name",style:l({color:e.styles.title_color})},[y("div",{class:z(3==e.content.style?"line-clamp-2":"line-clamp-1")},f(r.name||""),3)],4)):b("v-if",!0),e.content.show_server&&3!=e.content.goods_type?(t(),k("div",{key:1,class:z(["text-xs mb-1",{"mt-4":1===e.content.goods_type}]),style:l({color:e.styles.server_color})},[m(" 服务时间："),y("span",{class:"text-[#59b870] font-medium"},f(r.min_duration||"60"),1),m("分钟 ")],6)):b("v-if",!0)],64)):b("v-if",!0),y("div",{class:"flex price-btn items-center justify-between"},[y("div",{class:"flex items-baseline"},[e.content.show_price?(t(),s(re,{key:0,mainSize:"32rpx",minorSize:"26rpx",fontWeight:"500",color:e.styles.price_color,content:r.price},null,8,["color","content"])):b("v-if",!0),e.content.show_scribing_price&&3!=e.content.goods_type&&0!=r.scribing_price?(t(),s(re,{key:1,mainSize:"24rpx",minorSize:"24rpx",fontWeight:"400",lineThrough:!0,color:e.styles.scribing_price_color,content:r.scribing_price},null,8,["color","content"])):b("v-if",!0)]),e.content.show_sales&&1!==e.content.goods_type?(t(),k("div",{key:0,class:"text-muted text-xs flex-none"}," 已售"+f(r.order_num),1)):b("v-if",!0)]),b("    大图样式下显示    "),4===e.content.goods_type?(t(),k(w,{key:1},[e.content.show_server?(t(),k("div",{key:0,class:"text-xs mt-3",style:l({color:e.styles.server_color})},[m(" 服务时间："),y("span",{class:"text-[#59b870] font-medium"},f(r.min_duration||"60"),1),m("分钟 ")],4)):b("v-if",!0),y("div",{class:"flex justify-between items-center mt-3"},[e.content.show_title?(t(),k("div",{key:0,class:"mb-1 name",style:l([{width:"250px"},{color:e.styles.title_color}])},[y("div",{class:"line-clamp-2"},f(r.name||""),1)],4)):b("v-if",!0),y("div",{class:"buy-btn text-xs",style:l({"border-radius":`${e.styles.btn_radius}px`})},f(e.content.btn_text),5)])],64)):b("v-if",!0)],2)]),b("    单列样式下显示    "),1==e.content.goods_type?(t(),k("div",{key:0,class:"flex justify-between items-center mt-2"},[e.content.show_sales?(t(),k("div",{key:0,class:"text-muted text-xs"}," 超"+f(r.order_num)+"人选择 ",1)):b("v-if",!0),y("div",{class:"buy-btn text-xs",style:l({"border-radius":e.styles.btn_radius/2+"px"})},f(e.content.btn_text),5)])):b("v-if",!0)],12,["onClick"])))),128))],6)])])),_:1},8,["styles"])}}}),[["__scopeId","data-v-44110f2e"]]);const le=W({name:"u-back-top",props:{mode:{type:String,default:"circle"},icon:{type:String,default:"arrow-upward"},tips:{type:String,default:""},duration:{type:[Number,String],default:100},scrollTop:{type:[Number,String],default:0},top:{type:[Number,String],default:400},bottom:{type:[Number,String],default:200},right:{type:[Number,String],default:40},zIndex:{type:[Number,String],default:"9"},iconStyle:{type:Object,default:()=>({color:"#909399",fontSize:"38rpx"})},customStyle:{type:Object,default:()=>({})}},watch:{showBackTop(e,t){e?(this.uZIndex=this.zIndex,this.opacity=1):(this.uZIndex=-1,this.opacity=0)}},computed:{showBackTop(){return this.scrollTop>F(this.top)}},data:()=>({opacity:0,uZIndex:-1}),methods:{backToTop(){I({scrollTop:0,duration:this.duration})}}},[["render",function(e,n,i,d,y,_){const b=c(u("u-icon"),P),g=a;return t(),s(g,{onClick:_.backToTop,class:z(["u-back-top",["u-back-top--mode--"+i.mode]]),style:l([{bottom:i.bottom+"rpx",right:i.right+"rpx",borderRadius:"circle"==i.mode?"10000rpx":"8rpx",zIndex:y.uZIndex,opacity:y.opacity},i.customStyle])},{default:r((()=>[e.$slots.default||e.$slots.$default?o(e.$slots,"default",{key:1},void 0,!0):(t(),s(g,{key:0,class:"u-back-top__content"},{default:r((()=>[p(b,{onClick:_.backToTop,name:i.icon,"custom-style":i.iconStyle},null,8,["onClick","name","custom-style"]),p(g,{class:"u-back-top__content__tips"},{default:r((()=>[m(f(i.tips),1)])),_:1})])),_:1}))])),_:3},8,["onClick","class","style"])}],["__scopeId","data-v-ec93567e"]]),ae=W(e({__name:"index",setup(e){const o=i();T();const{showLocationModal:n,errorTitle:m,errorContent:g,getLocationData:x}=O(),h=v(0),j=v(0),S=B({pages:[],meta:[],article:[],bannerImage:""}),C=d((()=>{var e;return 1===(null==(e=S.pages.find((e=>"banner"===e.name)))?void 0:e.content.bg_style)})),z=d((()=>{var e;return 2===(null==(e=S.pages.find((e=>"banner"===e.name)))?void 0:e.content.style)})),I=d((()=>{var e;const{bg_type:t,bg_color:s,bg_image:r}=(null==(e=S.meta[0])?void 0:e.content)||{};return C.value?{"background-image":`url(${o.getImageUrl(S.bannerImage)})`}:1==t?{"background-color":s}:{"background-image":`url(${o.getImageUrl(r)})`}})),P=async()=>{await W(),N.city_id||(await x(),await W())},W=async()=>{const e=await U({type:1,city_id:N.city_id});S.pages=null==e?void 0:e.data,S.meta=null==e?void 0:e.meta,R({title:S.meta[0].content.title})};return L((e=>{h.value=e.scrollTop;const t=F(100);j.value=e.scrollTop/t>1?1:e.scrollTop/t})),A((()=>{P()})),(e,i)=>{const d=c(u("page-meta"),M),x=c(u("w-search"),V),v=c(u("w-banner"),Y),C=c(u("w-nav"),ee),F=c(u("w-title-bar"),te),T=c(u("w-rubik"),se),O=c(u("w-area-goods"),oe),B=a,L=c(u("u-back-top"),le),A=c(u("modal-popup"),J);return t(),k(w,null,[p(d,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),p(B,{class:"index",style:l(_(I))},{default:r((()=>{var e;return[b(" 组件 "),(t(!0),k(w,null,$(S.pages,((e,r)=>(t(),k(w,{key:r},["search"==e.name?(t(),s(x,{key:0,pageMeta:S.meta,content:e.content,styles:e.styles,percent:j.value,location:_(N),isLargeScreen:_(z)},null,8,["pageMeta","content","styles","percent","location","isLargeScreen"])):b("v-if",!0),"banner"==e.name?(t(),s(v,{key:1,content:e.content,styles:e.styles,isLargeScreen:_(z),onChange:i[0]||(i[0]=e=>{S.bannerImage=e})},null,8,["content","styles","isLargeScreen"])):b("v-if",!0),"nav"==e.name?(t(),s(C,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):b("v-if",!0),"title-bar"==e.name?(t(),s(F,{key:3,content:e.content,styles:e.styles},null,8,["content","styles"])):b("v-if",!0),"rubik"==e.name?(t(),s(T,{key:4,content:e.content,styles:e.styles},null,8,["content","styles"])):b("v-if",!0),"area-goods"==e.name?(t(),s(O,{key:5,content:e.content,styles:e.styles},null,8,["content","styles"])):b("v-if",!0)],64)))),128)),b(" 备案版权 "),(null==(e=_(o).config)?void 0:e.copyright_list)?(t(),s(B,{key:0,style:{"margin-top":"50rpx"}},{default:r((()=>{var e;return[(t(!0),k(w,null,$(null==(e=_(o).config)?void 0:e.copyright_list,((e,o)=>(t(),s(B,{class:"record_number",key:o},{default:r((()=>[y("a",{href:e.value,style:{color:"#495770","text-decoration":"none"}},f(e.key),9,["href"])])),_:2},1024)))),128))]})),_:1})):b("v-if",!0),b(" 返回顶部按钮 "),p(L,{"scroll-top":h.value,top:100,customStyle:{backgroundColor:"#FFF",color:"#000",boxShadow:"0px 3px 6px rgba(0, 0, 0, 0.1)"}},null,8,["scroll-top","customStyle"]),b(" 底部导航栏 "),p(K),b(" 定位提示弹窗 "),p(A,{show:_(n),"onUpdate:show":i[1]||(i[1]=e=>E(n)?n.value=e:null),title:_(m),content:_(g),onRefresh:P},null,8,["show","title","content"])]})),_:1},8,["style"])],64)}}}),[["__scopeId","data-v-2574b570"]]);export{ae as default};
