import{d as e,a as t,b as n,e as s,f as l,o as a,v as i,h as r,t as o,l as c,F as u,x as d,g as m,j as v,Y as f,u as p,V as x,Z as _,W as g,G as y,X as b,w as h,n as k,k as w,c as j,_ as C,M as I,P as O,i as z}from"./index-81cd8d96.js";import{_ as U}from"./page-meta.31474f74.js";import{_ as $}from"./u-avatar.c01e4a72.js";import{_ as F}from"./u-icon.1e505d03.js";import{_ as M}from"./index.vue_vue_type_script_setup_true_lang.a1320ad3.js";import{_ as N}from"./u-image.b1460259.js";import{n as P}from"./util.4309b5a4.js";import{_ as S}from"./u-badge.d618a77d.js";import{_ as V}from"./_plugin-vue_export-helper.1b428a4d.js";const q=e({__name:"user-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:p}=t(),x=n((()=>t().kefuInfo)),_=e=>{if("/bundle/pages/contact_service/index"===e.link.path)switch(parseInt(x.value.way)){case 1:P(e.link);break;case 2:x.value.phone?f({phoneNumber:x.value.phone}):uni.$u.toast("请在后台配置客服电话号码")}else P(e.link)};return(t,n)=>{const f=s(l("u-image"),N),x=s(l("u-icon"),F);return e.content.enabled?(a(),i("div",{key:0,class:"user-service bg-white mx-[20rpx] mt-[20rpx] rounded-lg p-[30rpx]"},[e.content.title?(a(),i("div",{key:0,class:"title font-medium text-lg"},[r("div",null,o(e.content.title),1)])):c("v-if",!0),c(" 横排 "),1==e.content.style?(a(),i("div",{key:1,class:"grid grid-cols-4 gap-x-6"},[(a(!0),i(u,null,d(e.content.data,((e,t)=>(a(),i("div",{key:t,class:"flex flex-col items-center pt-[40rpx]",onClick:t=>_(e)},[m(f,{width:"68",height:"68",src:v(p)(e.image),alt:""},null,8,["src"]),r("div",{class:"mt-2 text-xs"},o(e.name),1)],8,["onClick"])))),128))])):c("v-if",!0),c(" 竖排 "),2==e.content.style?(a(),i("div",{key:2},[(a(!0),i(u,null,d(e.content.data,((e,t)=>(a(),i("div",{key:t,class:"flex items-center h-[100rpx] px-[24rpx]",onClick:t=>_(e)},[m(f,{width:"52",height:"52",src:v(p)(e.image),alt:""},null,8,["src"]),r("div",{class:"ml-[20rpx] flex-1"},o(e.name),1),r("div",{class:"text-muted"},[m(x,{name:"arrow-right"})])],8,["onClick"])))),128))])):c("v-if",!0)])):c("v-if",!0)}}}),G=V(e({__name:"user-order",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},userInfo:{type:Object,default:()=>({})}},setup(e){p();const{getImageUrl:n}=t(),u=(e="")=>{_({url:"/pages/order/index?type="+e})};return(t,d)=>{var f,p,_,g,y,b,h,k,w,j,C,I,O,z,U,$,M,P;const V=s(l("u-icon"),F),q=s(l("u-badge"),S),G=s(l("u-image"),N);return(null==(f=e.content)?void 0:f.enabled)?(a(),i("div",{key:0,class:"user-order bg-white mx-[20rpx] mt-[20rpx] rounded-lg p-[30rpx]"},[(null==(p=e.content)?void 0:p.title)?(a(),i("div",{key:0,class:"title flex justify-between font-medium text-lg"},[r("div",null,o(null==(_=e.content)?void 0:_.title),1),r("div",{class:"flex items-center text-muted font-normal text-xs",onClick:x(u,["stop"])},[r("span",{class:"mr-1"},"查看全部订单"),m(V,{name:"arrow-right",size:"22"})],8,["onClick"])])):c("v-if",!0),r("div",{class:"order-nav grid grid-cols-4 gap-x-6 relative"},[(null==(g=e.content)?void 0:g.pay_show)?(a(),i("div",{key:0,class:"nav-item relative flex flex-col justify-center items-center",onClick:d[0]||(d[0]=x((e=>u(1)),["stop"]))},[m(q,{offset:[-10,10],type:"error",count:(null==(y=e.content)?void 0:y.pay_order_num)||0},null,8,["count"]),m(G,{width:"68",height:"68",src:v(n)(null==(b=e.content)?void 0:b.pay_icon)},null,8,["src"]),r("div",{class:"text-xs mt-1"},o(null==(h=e.content)?void 0:h.pay_name),1)])):c("v-if",!0),(null==(k=e.content)?void 0:k.subscribe_show)?(a(),i("div",{key:1,class:"nav-item relative flex flex-col justify-center items-center",onClick:d[1]||(d[1]=x((e=>u(2)),["stop"]))},[m(q,{offset:[-10,10],type:"error",count:(null==(w=e.content)?void 0:w.subscribe_order_num)||0},null,8,["count"]),m(G,{width:"68",height:"68",src:v(n)(null==(j=e.content)?void 0:j.subscribe_icon)},null,8,["src"]),r("div",{class:"text-xs mt-1"},o(null==(C=e.content)?void 0:C.subscribe_name),1)])):c("v-if",!0),(null==(I=e.content)?void 0:I.service_show)?(a(),i("div",{key:2,class:"nav-item relative flex flex-col justify-center items-center",onClick:d[2]||(d[2]=x((e=>u(3)),["stop"]))},[m(q,{offset:[-10,10],type:"error",count:(null==(O=e.content)?void 0:O.service_order_num)||0},null,8,["count"]),m(G,{width:"68",height:"68",src:v(n)(null==(z=e.content)?void 0:z.service_icon)},null,8,["src"]),r("div",{class:"text-xs mt-1"},o(null==(U=e.content)?void 0:U.service_name),1)])):c("v-if",!0),(null==($=e.content)?void 0:$.completed_show)?(a(),i("div",{key:3,class:"nav-item relative flex flex-col justify-center items-center",onClick:d[3]||(d[3]=x((e=>u(4)),["stop"]))},[c(' <u-badge\n                    :offset="[-10, 10]"\n                    type="error"\n                    :count="userInfo?.complete_order_num || 0"\n                >\n                </u-badge> '),m(G,{width:"68",height:"68",src:v(n)(null==(M=e.content)?void 0:M.completed_icon)},null,8,["src"]),r("div",{class:"text-xs mt-1"},o(null==(P=e.content)?void 0:P.completed_name),1)])):c("v-if",!0)])])):c("v-if",!0)}}}),[["__scopeId","data-v-e8570364"]]),L=V(e({__name:"user",setup(e){const{getImageUrl:r}=t(),f=g(),p=y({data:[],meta:[]}),x=n((()=>f.userInfo)),_=e=>{O({url:e})},N=n((()=>{const{bg_type:e,bg_color:t,bg_image:n}=p.meta||{};return 1==e?{"background-color":t}:{"background-image":`url(${r(n)})`}}));return b((()=>{(async()=>{var e;const t=await C({id:2});p.data=t.data,p.meta=null==(e=t.meta[0])?void 0:e.content,I({title:p.meta.title})})()})),(e,t)=>{const n=s(l("page-meta"),U),r=s(l("u-avatar"),$),f=z,g=s(l("u-icon"),F);return a(),i(u,null,[m(n,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),m(f,{class:"user"},{default:h((()=>[m(f,{style:k([v(N),{"background-repeat":"no-repeat","background-size":"100% auto"}])},{default:h((()=>[m(f,{class:"h-[300rpx]"},{default:h((()=>[m(f,{class:"flex justify-between user--info items-center"},{default:h((()=>[m(f,{class:"flex flex-1 items-center ml-[20rpx]",onClick:t[0]||(t[0]=e=>_("/bundle/pages/user_profile/index"))},{default:h((()=>[c(" 用户头像 "),m(r,{src:v(x).avatar,shape:"square",size:120,"img-mode":"scaleToFill"},null,8,["src"]),c(" 用户名字 "),m(f,{class:"ml-[20rpx] flex-1"},{default:h((()=>{var e;return[m(f,{class:"user-name mb-[10rpx]"},{default:h((()=>{var e;return[w(o((null==(e=v(x))?void 0:e.nickname)||"未登录"),1)]})),_:1}),(null==(e=v(x))?void 0:e.mobile)?(a(),j(f,{key:0,class:"text-[#ffffff]"},{default:h((()=>{var e,t,n;return[w("账号："+o(1===(null==(e=p.data.find((e=>"user-info"===e.name)))?void 0:e.content.user_info)?null==(t=v(x))?void 0:t.account:null==(n=v(x))?void 0:n.mobile),1)]})),_:1})):c("v-if",!0)]})),_:1})])),_:1}),c(" 设置 "),m(g,{name:"setting",color:"#fff",size:"44",onClick:t[1]||(t[1]=e=>_("/pages/user_set/user_set"))})])),_:1})])),_:1})])),_:1},8,["style"]),m(f,{class:"mt-[-100rpx]"},{default:h((()=>[c(' <view class="flex justify-around bg-white user--data">\n\t\t\t\t<view class="comment-card flex-1 h-[140rpx] mr-[20rpx]">\n\t\t\t\t\t<view class="text-[#5cc09e] text-1xl">我的评价</view>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<text class="text-[#46a283] text-1xl font-bold">{{ userInfo?.comment_count || 0 }}</text>\n\t\t\t\t\t\t<text class="text-muted text-[24rpx] ml-[6rpx]">条</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class="wallet-card flex-1 h-[140rpx]">\n\t\t\t\t\t<view class="text-[#ecaa58] text-1xl">我的钱包</view>\n\t\t\t\t\t<view class="text-[#c68a40] text-1xl font-bold">{{ userInfo?.user_money || 0.00 }}</view>\n\t\t\t\t</view>\n\t\t\t</view> '),(a(!0),i(u,null,d(p.data,((e,t)=>(a(),j(f,{key:t},{default:h((()=>["user-order"==e.name?(a(),j(G,{key:0,content:e.content,"user-info":v(x),styles:e.styles},null,8,["content","user-info","styles"])):c("v-if",!0),"user-service"==e.name?(a(),j(q,{key:1,content:e.content,styles:e.styles},null,8,["content","styles"])):c("v-if",!0),c(' <template v-if="item.name == \'user-banner\'">\n\t\t\t        <w-user-banner :content="item.content" :styles="item.styles" />\n\t\t\t    </template> ')])),_:2},1024)))),128))])),_:1})])),_:1}),c(" 底部导航栏 "),m(M)],64)}}}),[["__scopeId","data-v-c57a6d34"]]);export{L as default};
