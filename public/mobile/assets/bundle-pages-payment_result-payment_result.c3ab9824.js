import{d as a,D as e,G as t,q as s,X as l,R as r,a4 as n,a6 as u,bE as o,j as i,o as p,v as m,g as c,w as f,l as d,k as A,t as x,c as y,h as w,F as b,bF as g,aA as _,b4 as v,P as j,e as N,f as C,a7 as L,i as X,m as E,a8 as R,z as h}from"./index-81cd8d96.js";import{_ as D}from"./page-meta.31474f74.js";import{h as M,i as S}from"./order.8140439c.js";import{_ as B}from"./_plugin-vue_export-helper.1b428a4d.js";const G=B(a({__name:"payment_result",setup(a){const B=e(),G=t({from:"",order_id:""}),O=t({pay_status:1,total_amount:0,pay_time:"-",pay_way_desc:"-",sn:"-"}),U=s(0),k=[{text:"等待支付",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAMAAADxPgR5AAABQVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////3nAz////4qCr+8uD3oBX6xG/5u1j3ohr//vz//Pj3nxL96sv+9ef+8dv97tX97M/7z4j6wWf4sDz+9+r958X95b/4sUD4pyf4piP3ox7++O/+8+L97dL70pH5uVP4rDL83Kj715z6v2L5s0X4qSz72aH70Y76x3X5vV34rjj979j84rf71Zf7y4D5t0384LT6yXv6wmr97teGZwg2AAAAOHRSTlMAA/3Py9evlfGnVjLagSwYB/l3X1MTvVlC9uzl06GQDcaaiYROH+LBnntbRyPe3LRmTzfnbihMPnQF3ewAAAU+SURBVGjevZpnWxpBEMePAyNKSQgQo0aNGmOJmmjarNIEbKCCvfcSk+//AZLsDNxJOfa4G39vToF5/s/u7c7Mzo5mi1eB6GjXuDfY79d1f3/QO941Gg280nh4OdXp1UUDIt7OnpduqwVGUKwZum804J7a9OiMUCAYGnNF7sMbocybD07VPNEOYYuOqMeJXk9QPCV/u5Y8KJRBUi4cJNdui7WSsbblPnmFmZuLVAkaUErtLwszvrftbYMXwkTu/hAsOLxfFSa64m3MZp9hv7t2Bi05W8sbFl/tzmvcNLzVK1DkyjTMAVuDDHysGq6kwAaplarhbFhdr7u3OpknYJP1XUH4lTflpCAyF1mwTXY/Q+b6N7W9PiCI5S1oi9NFQXSqRKDqcjlOQJskjqr7w9NyfBW9pRNwwO8lgbzwtNDrEsjiNThiK18Zo7Vgp0A2tsEh5ZzKe3wtkM0sOCaxKZDXFu5MRc++YnczvXAvzWcCXCGxQR6gic8ZCpLvTINLpPcoRA41FJygGFsC1ygVLRbOHO2/ArjIFu3HTw0m9Ct+tQ6ukhSSj0PNJvRYwVX++vNL3cseNZnUnxT9Eq1DXuZ/HHlQXqqU7wRqXNo7jEcKDg1DbE79NaLg+6eCX/DTO2gNrS1Q5hwtep7EpBncEWkVQQSU2d7BzeipH+AJcAhCst7DdaCLAR5BwHXjM6XYQpLiElxHEyMhxyi/AlyC2UWM/tWkXkcfwyZIbzHy8klaWMzyCWaLFIrNS2Yf+ARhX9p4Ke4KySGn4CEafZeCo+SrOAUBjzmTUtAn/37kFbw3HGpcSM5YBWlO9fj/oxKeI4BXEHArxqq57x234LG0Gvwn6EW3xi14UvGnr9DNbHMLLqCz8WgBPOkCtyBgVAxrUfm85RfcpKAYQr/GL3hH7hQP2El+wUdKF7FWeMAveCXNPmuYH17zC56Sc+uXzxK7IDm3WQ3PhAl+wbI069Mi8pnlF0zj4VTT0ZxdkAz15xfsfa4pTUizXs0vn+nneod9GlZGF2wLLtazbHlOPZNmMxQOCzYELcg8tDon+tpwbRZY5X4pcm0Ttp23BVbn1Ev5g2EKTxd2siELlluHpym7AfjSSvCyZQC2n2LA404zuR0LPShism8viSJKCw0pW9rgvvdoFBBTwIuRJmrDlNQwYyTCUTpvM7NYrWSMCYr5rNABUR6639GCZuXeVDkZwbozsIK14ZAUnBcUMBi5Rg0sflPitgaM7GO5DfVoTvNZ4KG+bDJtFIaYWK8UhojP8v89YGOPSl8V3gpe95YyinuEl3eIK1SHMuhhuEKwLNBSjb2YBgaoBP1OMxOr3FowQEX2mjvv95jmFcB1tqjzRXvKvG5clLgKXZToAa2GYSE5B5c5EhR5axnqZ77squMHx3XeacbY83UM0oVlGVxjgTLKkcY9Cj7Xr2Rv6KLLozVkrI/n0rm/aZvdW52u1RNuXqtH5rWmfBNIbtuF+cwJJKrSGnGz4Hi93AhkRK35I38NjijkBTLwPO0t62rtLTRG5w0852oNPKQ4IYjlU6ctSsMKetjkgmTOt9uIt+iuMS1UJOYXRPG3bW+9Iwj/nI0WVqMNcu+gzUY677St7uNhU+2lnVZBvdNur3K3/WbIXcOiL+a03XMjmbb0Y8kNhXZPew2tmdzFQ6Lhrnu4yGUcNrQSnqnZmsrW6lFty+7R3pI7Lbsk+SUoDJibkok5jrZra8ZCOEz+xnKDQMjXonU+FNZcJt496Is0Eov4BmNxjQdPeCo0MB70k7PsGB+Y7AnbWyV/AYyCgUW2546PAAAAAElFTkSuQmCC"},{text:"支付成功",image:"/mobile/assets/icon_pay_success-2a204b14.png"}],z=async a=>{const e=await g(a,_());Reflect.ownKeys(O).map((a=>{O[a]=e[a]}))},F=async a=>{v({url:a})};return l((async({param:a})=>{await r();try{if(!(a=JSON.parse(a)).from&&!a.order_id)throw new Error("参数有误");if(G.from=a.from,G.order_id=a.order_id,U.value=a.order_id,await z(G),0==O.pay_status){n({title:"加载中"});const e=setTimeout((async()=>{if(u(),clearTimeout(e),await z(G),a.from===o.DIFFERENCE){const e=await M({id:a.order_id});U.value=e.order_id}if(a.from===o.ADDITIONAL){const e=await S({id:a.order_id});U.value=e.order_id}}),2e3)}}catch(e){i(B).show({text:e,src:"/mobile/assets/order-9cb907c0.png"}),console.log("初始化支付页面",e)}})),(a,e)=>{const t=N(C("page-meta"),D),s=L,l=X,r=E,n=R,u=h("page-status");return p(),m(b,null,[c(t,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),c(l,{class:"h-full payment-result"},{default:f((()=>[c(l,{class:"m-[24rpx] rounded-[14rpx] bg-white px-[24rpx] py-[20rpx]"},{default:f((()=>[d(" Header "),c(l,{class:"text-center py-[60rpx]"},{default:f((()=>[c(s,{class:"w-[100rpx] h-[100rpx]",src:k[O.pay_status].image},null,8,["src"]),c(l,{class:"text-[#101010] font-medium text-2xl"},{default:f((()=>[A(x(k[O.pay_status].text),1)])),_:1})])),_:1}),d(" Main "),c(l,{class:"text-main text-base leading-[70rpx]"},{default:f((()=>[c(l,{class:"flex justify-between"},{default:f((()=>[c(r,null,{default:f((()=>[A("订单编号")])),_:1}),c(r,null,{default:f((()=>[A(x(O.sn),1)])),_:1})])),_:1}),c(l,{class:"flex justify-between"},{default:f((()=>[c(r,null,{default:f((()=>[A("付款时间")])),_:1}),c(r,null,{default:f((()=>[A(x(O.pay_time||"-"),1)])),_:1})])),_:1}),c(l,{class:"flex justify-between"},{default:f((()=>[c(r,null,{default:f((()=>[A("支付方式")])),_:1}),c(r,null,{default:f((()=>[A(x(O.pay_way_desc||"-"),1)])),_:1})])),_:1}),c(l,{class:"flex justify-between"},{default:f((()=>[c(r,null,{default:f((()=>[A("支付金额")])),_:1}),c(r,null,{default:f((()=>[A(x(O.total_amount),1)])),_:1})])),_:1})])),_:1})])),_:1}),d(" Footer "),c(l,{class:"mx-[24rpx] pt-[40rpx]"},{default:f((()=>[G.from===i(o).ORDER?(p(),y(n,{key:0,class:"text-white btn bg-primary",onClick:e[0]||(e[0]=a=>F("/pages/order/index"))},{default:f((()=>[A("查看订单")])),_:1})):d("v-if",!0),G.from===i(o).DIFFERENCE||G.from===i(o).ADDITIONAL?(p(),y(n,{key:1,class:"text-white btn bg-primary",onClick:e[1]||(e[1]=a=>(async a=>{j({url:a})})(`/pages/order_detail/index?id=${U.value}`))},{default:f((()=>[A("返回订单")])),_:1})):d("v-if",!0),d(' <template v-if="payForm.from === PayFromType.USERRECHARGE">\n                <button class="text-white btn bg-primary" @click="goToRecharge">继续充值</button>\n            </template> '),w("template",null,[c(n,{class:"btn bg-white text-main mt-[30rpx]",onClick:e[2]||(e[2]=a=>F("/pages/index/index"))},{default:f((()=>[A("返回首页")])),_:1})])])),_:1}),d(" Component "),c(u,{ref_key:"pageRef",ref:B},null,512)])),_:1})],64)}}}),[["__scopeId","data-v-c1d5529e"]]);export{G as default};
