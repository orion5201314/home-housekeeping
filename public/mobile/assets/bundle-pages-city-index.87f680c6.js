import{d as a,a as e,E as l,q as t,X as o,o as s,c as r,w as n,g as u,k as c,l as d,v as p,x as i,F as m,j as f,J as _,bD as x,i as h,e as b,f as y,t as k,K as j,n as v,ak as w}from"./index-81cd8d96.js";import{_ as g}from"./u-search.acb61175.js";import{_ as C}from"./u-icon.1e505d03.js";import{_ as D}from"./modal-popup.cb53cf63.js";import{_ as L}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-button.392aee34.js";import"./u-popup.0f1c5899.js";const U=L(a({__name:"index",setup(a){e();const{showLocationModal:L,errorTitle:U,errorContent:V,getLocationData:M,setLocationData:N}=l(),R=t(""),T=t([]),$=async()=>{const a=await x({keyword:R.value});T.value=a};return o((()=>{$()})),(a,e)=>{const l=h,t=b(y("u-search"),g),o=b(y("u-icon"),C),x=b(y("modal-popup"),D);return s(),r(l,{class:"container"},{default:n((()=>[u(l,{class:"text-3xl font-bold mb-[30rpx]"},{default:n((()=>[c("选择城市")])),_:1}),d(" 搜索 "),u(t,{placeholder:"搜索城市名",modelValue:R.value,"onUpdate:modelValue":e[0]||(e[0]=a=>R.value=a),shape:"round",clearabled:!0,animation:!0,height:70,"bg-color":"#f2f2f2",onSearch:$,onCustom:$},null,8,["modelValue"]),d(" 定位城市 "),u(l,{class:"text-[24rpx] text-[#c8c9cc] mt-[30rpx] mb-[30rpx]"},{default:n((()=>[c("已开通以下城市")])),_:1}),u(l,null,{default:n((()=>[u(l,null,{default:n((()=>[d(" 城市列表 "),(s(!0),p(m,null,i(T.value,((e,t)=>(s(),r(l,{key:t,class:"anchor flex mb-[10rpx]"},{default:n((()=>[u(l,{class:"font-bold text-[32rpx]"},{default:n((()=>[c(k(t),1)])),_:2},1024),u(l,{class:"ml-[20rpx]"},{default:n((()=>[(s(!0),p(m,null,i(e,((e,t)=>(s(),r(l,{key:t,onClick:a=>(a=>{const e={name:a.name,city_id:a.id,latitude:a.db09_lat,longitude:a.db09_lng,addressName:""};N(e),w()})(e),class:"pb-[40rpx] pt-[4rpx] w-[500rpx]"},{default:n((()=>[f(j).city_id!=e.id?(s(),r(l,{key:0},{default:n((()=>[c(k(e.name),1)])),_:2},1024)):(s(),r(l,{key:1,class:"u-flex justify-between"},{default:n((()=>[u(l,{style:v({color:a.$theme.primaryColor})},{default:n((()=>[c(k(e.name),1)])),_:2},1032,["style"]),u(o,{name:"checkmark",color:a.$theme.primaryColor},null,8,["color"])])),_:2},1024))])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),d(" 定位提示弹窗 "),u(x,{show:f(L),"onUpdate:show":e[1]||(e[1]=a=>_(L)?L.value=a:null),title:f(U),content:f(V),onRefresh:e[2]||(e[2]=()=>{})},null,8,["show","title","content"])])),_:1})}}}),[["__scopeId","data-v-b40df6ee"]]);export{U as default};
