import{d as a,q as e,s as l,e as s,f as t,o as n,c as i,w as r,l as o,g as u,k as d,t as c,N as m,O as p,v as _,F as f,x as v,P as g,i as y,Q as x,K as h,D as k,I as w,R as j,T as b,m as C,U as z,A as S}from"./index-81cd8d96.js";import{_ as P}from"./page-meta.31474f74.js";import{_ as V}from"./u-icon.1e505d03.js";import{_ as E}from"./u-navbar.681d27f2.js";import{_ as I}from"./z-paging.72de87f1.js";import{_ as M}from"./u-empty.d013e118.js";import{_ as Q}from"./u-image.b1460259.js";import{P as $}from"./index.d91419a7.js";import{_ as H}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang.a1320ad3.js";import"./u-badge.d618a77d.js";import"./util.4309b5a4.js";const U=H(a({__name:"cate-card",props:{param:{default:{id:0,name:""}},pid:{default:0}},setup(a){const k=a,w=e([]);return l((()=>k.param.id),(()=>{(async()=>{const a=await x({category_id:k.param.id,city_id:h.city_id});w.value=a.lists})()}),{immediate:!0}),(e,l)=>{const x=y,h=s(t("u-empty"),M),k=s(t("u-image"),Q);return n(),i(x,{class:"card"},{default:r((()=>[o(" Content Header Satrt "),o(' <template v-if="param.level !== 1">\n            <view\n                class="flex justify-between card--header"\n                @click="goPage(`/bundle/pages/category_goods_list/index?id=${pid}`)"\n            >\n                <view class="name">{{ param.name }}</view>\n                <view class="flex">\n                    <u-icon name="arrow-right" size="22"></u-icon>\n                </view>\n            </view>\n        </template> '),1!==a.param.level?(n(),i(x,{key:0,class:"flex justify-between card--header"},{default:r((()=>[u(x,{class:"name"},{default:r((()=>[d(c(a.param.name),1)])),_:1})])),_:1})):o("v-if",!0),m(u(x,{class:"empty"},{default:r((()=>[u(h,{text:"暂无数据～",src:"/static/images/empty/collection.png","icon-size":300,color:"#888888"})])),_:1},512),[[p,1===a.param.level&&!w.value.length]]),o(" Content Header End "),o(" Content Main Start "),u(x,{class:"card--main"},{default:r((()=>[(n(!0),_(f,null,v(w.value,(a=>(n(),i(x,{key:a.id,class:"goods flex w-[230rpx] h-[205rpx]",onClick:e=>{return l=`/pages/goods/index?id=${a.id}`,void g({url:l});var l}},{default:r((()=>[u(k,{src:a.image,width:"100%",height:"100%"},null,8,["src"]),u(x,{class:"mt-[20rpx] truncate"},{default:r((()=>[d(c(a.name),1)])),_:2},1024),u(x,{class:"text-primary mt-[10rpx]"},{default:r((()=>[u($,{price:a.price,desc:a.unit_desc},null,8,["price","desc"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),o(" Content Main End ")])),_:1})}}}),[["__scopeId","data-v-01555277"]]),q=H(a({__name:"index",setup(a){const l=e([]),m=e(0),p=k(),x=async(a,e)=>{try{const{lists:a}=await b();p.value.complete(a)}catch(l){console.log("报错=>",l),p.value.complete(!1)}};return w((async()=>{var a;await j(),null==(a=p.value)||a.reload()})),(a,e)=>{const h=s(t("page-meta"),P),k=s(t("u-icon"),V),w=C,j=y,b=s(t("u-navbar"),E),M=z,Q=s(t("z-paging"),I);return n(),_(f,null,[u(h,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),u(j,{class:"container"},{default:r((()=>[u(b,{"is-back":!1,title:"",class:"flex"},{default:r((()=>[u(j,{class:"navbar h5_navbar flex ml-[20rpx] pl-[20rpx]",onClick:e[0]||(e[0]=a=>{g({url:"/bundle/pages/search/index"})})},{default:r((()=>[u(k,{name:"search",size:"34",color:"#888888"}),u(w,{class:"flex items-center ml-[20rpx]"},{default:r((()=>[d("请输入关键词搜索")])),_:1})])),_:1})])),_:1}),u(j,{class:"flex main"},{default:r((()=>[u(j,{class:"content"},{default:r((()=>[u(M,{"scroll-y":"true",class:"menu"},{default:r((()=>[(n(!0),_(f,null,v(l.value,((a,e)=>(n(),i(j,{key:a.id,class:S(["truncate menu--item",{"text-primary":e===m.value}]),onClick:a=>m.value=e},{default:r((()=>[d(c(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),u(j,{class:"layout"},{default:r((()=>[u(Q,{ref_key:"paging",ref:p,modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),onQuery:x,fixed:!1,height:"100%","loading-more-enabled":!1,"empty-view-text":""},{default:r((()=>[o(" Content Start "),u(j,{class:"content-box"},{default:r((()=>[(n(!0),_(f,null,v(l.value,((a,e)=>{var l,s;return n(),_(f,{key:a.id},[e!=m.value||(null==(l=null==a?void 0:a.sons)?void 0:l.length)?o("v-if",!0):(n(),i(U,{key:0,param:a},null,8,["param"])),e==m.value&&(null==(s=null==a?void 0:a.sons)?void 0:s.length)?(n(!0),_(f,{key:1},v(a.sons,((e,l)=>(n(),i(U,{key:e.id,param:e,pid:a.id},null,8,["param","pid"])))),128)):o("v-if",!0)],64)})),128))])),_:1}),o(" Content End ")])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(" 底部导航栏 "),u(N)])),_:1})],64)}}}),[["__scopeId","data-v-987106d1"]]);export{q as default};
