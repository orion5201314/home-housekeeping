import{H as L,$ as G,G as H,B as O,D as Q,F as j,A as J,n as K,Q as M,R as P,C as Y,S as W}from"./element-plus.c171b4f3.js";import{_ as X}from"./index.e9551a18.js";import{u as Z,a as ee}from"./vue-router.9d4d3767.js";import{f as ue,d as te}from"./index.881dcebb.js";import{n as le,s as oe}from"./message.76177e66.js";import{d as ae,r as se,Y as ne,s as de,o as m,c as r,T as e,K as l,L as ie,J as w,a,R as d,S as F,U as D,a9 as v,Q as x,b7 as me,b6 as _e}from"./@vue.dfea2d30.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.6b33b650.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";const A=E=>(me("data-v-6b2aa6f6"),E=E(),_e(),E),re=A(()=>a("div",{class:"font-medium mb-7"},"\u901A\u77E5\u540D\u79F0",-1)),pe=A(()=>a("div",{class:"font-medium mb-7"},"\u77ED\u4FE1\u901A\u77E5",-1)),ce={class:"w-80"},Fe={class:"flex-1"},fe={class:"w-full max-w-[320px]"},Be={class:"m-t-24"},Ee=A(()=>a("div",{class:"font-medium mb-[20px]"},"\u5FAE\u4FE1\u6A21\u677F\u6D88\u606F",-1)),Ae={class:"mt-[10px]"},Ve={class:"w-80"},Ce={class:"w-80"},be={class:"w-80"},we={class:"desc m-t-20",style:{"margin-left":"135px"}},De={class:"ls-card m-t-24"},ve=A(()=>a("div",{class:"font-medium mb-[20px]"},"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F\u901A\u77E5",-1)),ye={class:"mt-[10px]",style:{width:"90%"}},he={class:"w-80"},ke={class:"desc m-t-20",style:{"margin-left":"135px"}},xe=ae({__name:"edit",setup(E){const V=Z(),U=ee(),C=se(!1),t=ne({id:"",scene_name:"",scene_desc:"",type:"",sms_notice:{status:0,template_id:"",content:"",tips:[],type:"sms"},oa_notice:{first:"",is_show:!1,name:"",remark:"",status:"",template_id:"",tpl:[]},mnp_notice:{is_show:!1,name:"",status:"",template_id:"",tpl:[]}}),g={},y=de(),I=()=>{t.oa_notice.tpl.push({name:"",value:"",content:""})},q=()=>{t.mnp_notice.tpl.push({name:"",value:"",content:""})},z=async()=>{C.value=!0;const p=await le({id:V.query.id});Object.keys(t).forEach(o=>{t[o]=p[o]}),C.value=!1},R=async()=>{var p;await((p=y.value)==null?void 0:p.validate()),console.log(t),await oe({id:V.query.id,template:[{type:"sms",...t.sms_notice},{type:"oa",...t.oa_notice},{type:"mnp",...t.mnp_notice}]}),ue.msgSuccess("\u64CD\u4F5C\u6210\u529F"),U.back()};return V.query.id&&z(),(p,o)=>{const $=G,f=H,n=O,c=Q,S=j,i=J,h=L,B=K,_=M,k=P,b=Y,T=X,N=W;return m(),r("div",null,[e(f,{class:"!border-none",shadow:"never"},{default:l(()=>[e($,{content:"\u7F16\u8F91\u901A\u77E5\u8BBE\u7F6E",onBack:o[0]||(o[0]=u=>p.$router.back())})]),_:1}),ie((m(),w(b,{ref_key:"formRef",ref:y,model:t,"label-width":"auto",rules:g},{default:l(()=>[a("div",null,[e(f,{class:"!border-none mt-4",shadow:"never"},{default:l(()=>[re,e(n,{label:"\u901A\u77E5\u540D\u79F0",prop:"scene_name"},{default:l(()=>[d(F(t.scene_name),1)]),_:1}),e(n,{label:"\u901A\u77E5\u7C7B\u578B",prop:"type"},{default:l(()=>[d(F(t.type),1)]),_:1}),e(n,{label:"\u901A\u77E5\u4E1A\u52A1",prop:"scene_desc"},{default:l(()=>[d(F(t.scene_desc),1)]),_:1})]),_:1}),e(f,{class:"!border-none mt-4",shadow:"never"},{default:l(()=>[pe,e(n,{label:"\u5F00\u542F\u72B6\u6001",prop:"sms_notice.status",required:""},{default:l(()=>[e(S,{modelValue:t.sms_notice.status,"onUpdate:modelValue":o[1]||(o[1]=u=>t.sms_notice.status=u)},{default:l(()=>[e(c,{label:"0"},{default:l(()=>[d("\u5173\u95ED")]),_:1}),e(c,{label:"1"},{default:l(()=>[d("\u5F00\u542F")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u6A21\u677FID",prop:"sms_notice.template_id"},{default:l(()=>[a("div",ce,[e(i,{modelValue:t.sms_notice.template_id,"onUpdate:modelValue":o[2]||(o[2]=u=>t.sms_notice.template_id=u),placeholder:"\u8BF7\u8F93\u5165\u6A21\u677FID"},null,8,["modelValue"])])]),_:1}),e(n,{label:"\u77ED\u4FE1\u5185\u5BB9",prop:"sms_notice.content"},{default:l(()=>[a("div",Fe,[a("div",fe,[e(i,{type:"textarea",rows:6,modelValue:t.sms_notice.content,"onUpdate:modelValue":o[3]||(o[3]=u=>t.sms_notice.content=u)},null,8,["modelValue"])]),(m(!0),r(D,null,v(t.sms_notice.tips,(u,s)=>(m(),r("div",{class:"form-tips",key:s},F(u),1))),128))])]),_:1})]),_:1}),t.oa_notice.is_show?(m(),w(f,{key:0,class:"!border-none mt-4",shadow:"never"},{default:l(()=>[a("div",Be,[Ee,e(h,{title:"\u6E29\u99A8\u63D0\u793A\uFF1A 1. \u8BF7\u524D\u5F80\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF0C\u5C06\u3010\u4E3B\u8425\u884C\u4E1A\uFF1AIT\u79D1\u6280/\u4E92\u8054\u7F51|\u7535\u5B50\u5546\u52A1 \u526F\u8425\u884C\u4E1A\uFF1A\u6D88\u8D39\u54C1\u3011\u7C7B\u76EE\u6DFB\u52A0\u81F3\u60A8\u7684\u670D\u52A1\u7C7B\u76EE\uFF0C\u5426\u5219\u5C06\u5F71\u54CD\u8BA2\u9605\u901A\u77E5\u7684\u6B63\u5E38\u53D1\u9001\u3002 2. \u67E5\u627E\u8BA2\u9605\u901A\u77E5\u5E76\u9009\u7528\uFF0C\u8C03\u6574\u5173\u952E\u8BCD\u7684\u987A\u5E8F\u540E\uFF0C\u590D\u5236\u6A21\u677FID\uFF0C\u7C98\u8D34\u5728\u6B64\u9875\u9762\u5BF9\u5E94\u7684\u6A21\u677FID\u8F93\u5165\u6846\u4E2D",type:"success","show-icon":"",closable:!1}),a("div",Ae,[e(b,{ref:"form","label-width":"145px"},{default:l(()=>[e(n,{label:"\u5F00\u542F\u72B6\u6001",required:""},{default:l(()=>[e(c,{modelValue:t.oa_notice.status,"onUpdate:modelValue":o[4]||(o[4]=u=>t.oa_notice.status=u),label:"0"},{default:l(()=>[d("\u5173\u95ED")]),_:1},8,["modelValue"]),e(c,{modelValue:t.oa_notice.status,"onUpdate:modelValue":o[5]||(o[5]=u=>t.oa_notice.status=u),label:"1"},{default:l(()=>[d("\u5F00\u542F")]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u6A21\u677FID",size:"mini",required:""},{default:l(()=>[a("div",Ve,[e(i,{modelValue:t.oa_notice.template_id,"onUpdate:modelValue":o[6]||(o[6]=u=>t.oa_notice.template_id=u)},null,8,["modelValue"])])]),_:1}),e(n,{label:"\u6A21\u677F\u5B57\u6BB5first\u5185\u5BB9",size:"mini",required:""},{default:l(()=>[a("div",Ce,[e(i,{modelValue:t.oa_notice.first,"onUpdate:modelValue":o[7]||(o[7]=u=>t.oa_notice.first=u)},null,8,["modelValue"])])]),_:1}),e(n,{label:"\u6A21\u677F\u5B57\u6BB5remrk\u5185\u5BB9",size:"mini",required:""},{default:l(()=>[a("div",be,[e(i,{modelValue:t.oa_notice.remark,"onUpdate:modelValue":o[8]||(o[8]=u=>t.oa_notice.remark=u)},null,8,["modelValue"])])]),_:1}),e(n,{label:"\u6A21\u677F\u5185\u5BB9",size:"mini",required:""},{default:l(()=>[a("div",null,[e(B,{type:"primary",size:"mini",onClick:I},{default:l(()=>[d("\u65B0\u589E\u6A21\u677F\u5B57\u6BB5")]),_:1}),e(k,{class:"mt-[10px]",data:t.oa_notice.tpl,style:{width:"540px"},size:"mini"},{default:l(()=>[e(_,{label:"\u5B57\u6BB5\u540D",width:"120"},{default:l(u=>[e(i,{modelValue:u.row.tpl_name,"onUpdate:modelValue":s=>u.row.tpl_name=s,placeholder:"\u8BA2\u5355\u7F16\u53F7"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{label:"\u5B57\u6BB5\u503C",width:"120"},{default:l(u=>[e(i,{modelValue:u.row.tpl_keyword,"onUpdate:modelValue":s=>u.row.tpl_keyword=s,placeholder:"keyword1"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{label:"\u5B57\u6BB5\u5185\u5BB9",width:"180"},{default:l(u=>[e(i,{modelValue:u.row.tpl_content,"onUpdate:modelValue":s=>u.row.tpl_content=s,placeholder:"{order_sn}"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{label:"\u64CD\u4F5C",width:"120"},{default:l(u=>[e(B,{type:"text",size:"mall",onClick:s=>t.oa_notice.tpl.splice(u.$index,1)},{default:l(()=>[d("\u5220\u9664")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})]),_:1},512),a("div",we,[(m(!0),r(D,null,v(t.oa_notice.tips,(u,s)=>(m(),r("div",{key:s},F(u),1))),128))])])])]),_:1})):x("",!0),t.mnp_notice.is_show?(m(),w(f,{key:1,class:"!border-none mt-4",shadow:"never"},{default:l(()=>[a("div",De,[ve,e(h,{title:"1. \u8BF7\u524D\u5F80\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\uFF0C\u5C06\u3010\u4E3B\u8425\u884C\u4E1A\uFF1AIT\u79D1\u6280/\u4E92\u8054\u7F51|\u7535\u5B50\u5546\u52A1 \u526F\u8425\u884C\u4E1A\uFF1A\u6D88\u8D39\u54C1\u3011\u7C7B\u76EE\u6DFB\u52A0\u81F3\u60A8\u7684\u670D\u52A1\u7C7B\u76EE\uFF0C\u5426\u5219\u5C06\u5F71\u54CD\u8BA2\u9605\u901A\u77E5\u7684\u6B63\u5E38\u53D1\u9001\u3002 2. \u67E5\u627E\u8BA2\u9605\u901A\u77E5\u5E76\u9009\u7528\uFF0C\u8C03\u6574\u5173\u952E\u8BCD\u7684\u987A\u5E8F\u540E\uFF0C\u590D\u5236\u6A21\u677FID\uFF0C\u7C98\u8D34\u5728\u6B64\u9875\u9762\u5BF9\u5E94\u7684\u6A21\u677FID\u8F93\u5165\u6846\u4E2D",type:"success","show-icon":"",closable:!1}),a("div",ye,[e(b,{ref:"form","label-width":"135px"},{default:l(()=>[e(n,{label:"\u5F00\u542F\u72B6\u6001",required:""},{default:l(()=>[e(c,{modelValue:t.mnp_notice.status,"onUpdate:modelValue":o[9]||(o[9]=u=>t.mnp_notice.status=u),label:"0"},{default:l(()=>[d("\u5173\u95ED")]),_:1},8,["modelValue"]),e(c,{modelValue:t.mnp_notice.status,"onUpdate:modelValue":o[10]||(o[10]=u=>t.mnp_notice.status=u),label:"1"},{default:l(()=>[d("\u5F00\u542F")]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u6A21\u677FID",size:"mini",required:""},{default:l(()=>[a("div",he,[e(i,{modelValue:t.mnp_notice.template_id,"onUpdate:modelValue":o[11]||(o[11]=u=>t.mnp_notice.template_id=u)},null,8,["modelValue"])])]),_:1}),e(n,{label:"\u6A21\u677F\u5185\u5BB9",size:"mini",required:""},{default:l(()=>[a("div",null,[e(B,{type:"primary",size:"mini",onClick:q},{default:l(()=>[d("\u65B0\u589E\u6A21\u677F\u5B57\u6BB5")]),_:1}),e(k,{class:"mt-[10px]",data:t.mnp_notice.tpl,style:{width:"100%"},size:"mini"},{default:l(()=>[e(_,{label:"\u5B57\u6BB5\u540D",width:"120"},{default:l(u=>[e(i,{modelValue:t.mnp_notice.tpl[u.$index].tpl_name,"onUpdate:modelValue":s=>t.mnp_notice.tpl[u.$index].tpl_name=s,placeholder:"\u8BA2\u5355\u7F16\u53F7"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{label:"\u5B57\u6BB5\u503C",width:"120"},{default:l(u=>[e(i,{modelValue:u.row.tpl_keyword,"onUpdate:modelValue":s=>u.row.tpl_keyword=s,placeholder:"keyword1"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{label:"\u5B57\u6BB5\u5185\u5BB9",width:"180"},{default:l(u=>[e(i,{modelValue:u.row.tpl_content,"onUpdate:modelValue":s=>u.row.tpl_content=s,placeholder:"order_sn"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(_,{label:"\u64CD\u4F5C",width:"120"},{default:l(u=>[e(B,{type:"text",size:"mall",onClick:s=>t.mnp_notice.tpl.splice(u.$index,1)},{default:l(()=>[d("\u5220\u9664")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})]),_:1},512),a("div",ke,[(m(!0),r(D,null,v(t.mnp_notice.tips,(u,s)=>(m(),r("div",{key:s},F(u),1))),128))])])])]),_:1})):x("",!0)])]),_:1},8,["model"])),[[N,C.value]]),e(T,null,{default:l(()=>[e(B,{type:"primary",onClick:R},{default:l(()=>[d("\u4FDD\u5B58")]),_:1})]),_:1})])}}});const iu=te(xe,[["__scopeId","data-v-6b2aa6f6"]]);export{iu as default};
