import{Q as E,Y as B,t as R,O as T,R as D,G as V}from"./element-plus.c171b4f3.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_lang.e49abccb.js";import{e as g,a as K,b as L}from"./edit-form.c9351744.js";import{u as M}from"./usePaging.2463cc0e.js";import{f as N}from"./index.881dcebb.js";import{d as w,i as P,ap as j,o as i,J as s,K as o,a as p,L as c,T as e,u as n,R as m,Q as f,j as Q}from"./@vue.dfea2d30.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.36fb24eb.js";import"./lodash.6b33b650.js";import"./vue-router.9d4d3767.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";const $={class:"w-[88px]"},z={class:"flex items-center"},G={class:"flex justify-end mt-4"},J=w({name:"settingWebsiteMapKey"}),Re=w({...J,setup(O){const{pager:l,getLists:a,resetPage:U,resetParams:W}=M({fetchFun:K,params:{}}),k=async y=>{await N.confirm("\u786E\u8BA4\u5220\u9664key?"),await L({id:y}),a()};return P(()=>{a()}),(y,h)=>{const r=E,u=B,b=R,F=T,v=D,x=A,C=V,d=j("perms");return i(),s(C,{shadow:"never",class:"!border-none mt-4"},{default:o(()=>[p("div",$,[c(e(g,{onRefresh:n(a),type:"primary",btnText:"\u6DFB\u52A0key"},null,8,["onRefresh"]),[[d,["setting.map_key/add"]]])]),p("div",null,[e(v,{ref:"tableRef",data:n(l).lists,size:"large","row-key":"id",indent:20,"tree-props":{children:"sons"}},{default:o(()=>[e(r,{property:"key",label:"key","show-overflow-tooltip":"","min-width":"260"}),e(r,{property:"type_desc",label:"\u7C7B\u578B","min-width":"120"}),e(r,{property:"status",label:"\u72B6\u6001","min-width":"120"},{default:o(t=>{var _;return[t.row.status==0?(i(),s(u,{key:0,type:"info"},{default:o(()=>[m("\u672A\u4F7F\u7528")]),_:1})):f("",!0),t.row.status==1?(i(),s(u,{key:1,type:"success"},{default:o(()=>[m("\u4F7F\u7528\u4E2D")]),_:1})):f("",!0),t.row.status==2?(i(),s(b,{key:2,class:"box-item",effect:"dark",content:((_=t.row.error_info)==null?void 0:_.message)||"\u672A\u77E5\u9519\u8BEF",placement:"top"},{default:o(()=>[e(u,{type:"danger"},{default:o(()=>[m("\u5F02\u5E38")]),_:1})]),_:2},1032,["content"])):f("",!0)]}),_:1}),e(r,{property:"create_time",label:"\u521B\u5EFA\u65F6\u95F4","min-width":"150"}),e(r,{label:"\u64CD\u4F5C","min-width":"120",fixed:"right"},{default:o(t=>[p("div",z,[c(e(g,{id:t.row.id,type:"text",btnText:"\u7F16\u8F91",onRefresh:n(a)},null,8,["id","onRefresh"]),[[d,["setting.map_key/edit"]]]),c((i(),s(F,{class:"ml-4",type:"danger",underline:!1,onClick:_=>k(t.row.id)},{default:o(()=>[m(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[d,["setting.map_key/del"]]])])]),_:1})]),_:1},8,["data"])]),p("div",G,[e(x,{modelValue:n(l),"onUpdate:modelValue":h[0]||(h[0]=t=>Q(l)?l.value=t:null),onChange:n(a)},null,8,["modelValue","onChange"])])]),_:1})}}});export{Re as default};
