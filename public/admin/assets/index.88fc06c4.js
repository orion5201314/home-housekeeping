import{Q as C,l as D,O as E,R,G as S}from"./element-plus.c171b4f3.js";import{_ as V}from"./index.vue_vue_type_script_setup_true_lang.e49abccb.js";import{e as B,f as T,g as L}from"./skill.0a0211cd.js";import{f as A}from"./index.881dcebb.js";import{u as N}from"./usePaging.2463cc0e.js";import f from"./skill_form.0ed94a3b.js";import{d as h,s as P,i as U,ap as j,o as _,J as c,K as i,a as p,L as d,T as e,u as s,R as $,j as z}from"./@vue.dfea2d30.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.6b33b650.js";import"./vue-router.9d4d3767.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";import"./index.36fb24eb.js";const G={class:"w-[88px]"},J={class:"flex items-center"},K={class:"flex justify-end mt-4"},M=h({name:"masterWorkerSkill"}),Ve=h({...M,setup(O){const w=P(),{pager:l,getLists:a,resetPage:Q,resetParams:W}=N({fetchFun:B,params:{}}),k=async n=>{await A.confirm("\u786E\u8BA4\u5220\u9664\u670D\u52A1\u6280\u80FD\uFF1F"),await T({id:n}),a()},g=async(n,r)=>{await L({status:n,id:r}),a()};return U(()=>{a()}),(n,r)=>{const o=C,v=D,b=E,y=R,F=V,x=S,m=j("perms");return _(),c(x,{shadow:"never",class:"!border-none mt-4"},{default:i(()=>[p("div",G,[d(e(f,{onRefresh:s(a),type:"primary",btnText:"\u65B0\u589E\u6280\u80FD"},null,8,["onRefresh"]),[[m,["staff.staff_skill/add"]]])]),p("div",null,[e(y,{ref_key:"tableRef",ref:w,data:s(l).lists,size:"large","row-key":"id",indent:20,"tree-props":{children:"sons"}},{default:i(()=>[e(o,{property:"name",label:"\u6280\u80FD\u540D\u79F0","min-width":"190"}),e(o,{property:"goods_num",label:"\u5173\u8054\u9879\u76EE","min-width":"180"}),e(o,{property:"staff_num",label:"\u5173\u8054\u4EBA\u5458","min-width":"180"}),e(o,{label:"\u72B6\u6001","min-width":"140"},{default:i(t=>[d(e(v,{modelValue:t.row.status,"onUpdate:modelValue":u=>t.row.status=u,"active-value":1,"inactive-value":0,onChange:u=>g(u,t.row.id)},null,8,["modelValue","onUpdate:modelValue","onChange"]),[[m,["staff.staff_skill/status"]]])]),_:1}),e(o,{property:"update_time",label:"\u66F4\u65B0\u65F6\u95F4","min-width":"180"}),e(o,{label:"\u64CD\u4F5C","min-width":"182",fixed:"right"},{default:i(t=>[p("div",J,[d(e(f,{id:t.row.id,type:"text",btnText:"\u7F16\u8F91",onRefresh:s(a)},null,8,["id","onRefresh"]),[[m,["staff.staff_skill/edit"]]]),d((_(),c(b,{class:"ml-4",type:"danger",underline:!1,onClick:u=>k(t.row.id)},{default:i(()=>[$(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[m,["staff.staff_skill/del"]]])])]),_:1})]),_:1},8,["data"])]),p("div",K,[e(F,{modelValue:s(l),"onUpdate:modelValue":r[0]||(r[0]=t=>z(l)?l.value=t:null),onChange:s(a)},null,8,["modelValue","onChange"])])]),_:1})}}});export{Ve as default};
