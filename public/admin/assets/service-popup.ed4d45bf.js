import{y as Q,A as Y,B as G,T as J,P as K,n as O,C as q,Q as H,s as W,t as X,Y as Z,R as ee}from"./element-plus.c171b4f3.js";import{d as te,r as V,Y as le,b as F,k as oe,o as C,J as h,K as a,G as ae,T as t,u as n,R as _,a as m,j as B,a2 as se,S as ue,Q as I}from"./@vue.dfea2d30.js";import{a as ne}from"./lists.0eec2800.js";import{P as ie}from"./index.36fb24eb.js";import{_ as re}from"./index.vue_vue_type_script_setup_true_lang.e49abccb.js";import{u as de}from"./usePaging.2463cc0e.js";import{j as P,d as me}from"./index.881dcebb.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.6b33b650.js";import"./vue-router.9d4d3767.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";const pe={class:"flex items-center"},ce={class:"w-16 ml-2 truncate flex-1"},_e={class:"flex justify-end"},fe=te({__name:"service-popup",props:{goodsId:{default:[]},selectData:{default:[]},skill_id:{default:""}},emits:["update:goodsId","update:selectData"],setup(S,{emit:D}){const f=S,b=V(),s=V(f.selectData),i=le({name:"",status:"",skill_id:f.skill_id}),{pager:r,getLists:v,resetPage:ve,resetParams:T}=de({size:5,fetchFun:ne,params:i}),A=o=>{!o||o.resetFields()},R=()=>{D("update:selectData",P(s.value)),D("update:goodsId",P(s.value.map(o=>o.id)))},N=F(()=>o=>s.value?s.value.some(e=>e.id==o.id):!1),g=F({get:()=>{const{lists:o}=r;if(!s.value)return!1;const e=s.value.map(u=>u.id);return o.length?o.every(u=>e.includes(u.id)):!1},set:o=>{const{lists:e}=r;if(o)for(let u=0;u<e.length;u++){const d=e[u];s.value.map(E=>E.id).includes(d.id)||s.value.push(d)}else e.forEach(u=>{y(u)})}}),U=(o,e)=>{o?s.value.push(e):y(e)},y=o=>{const e=s.value.findIndex(u=>u.id==o.id);e!=-1&&(s==null||s.value.splice(e,1))};return v(),oe(()=>{s.value=f.selectData}),(o,e)=>{const u=Y,d=G,p=J,E=K,k=O,j=q,w=Q,c=H,z=W,$=X,x=Z,L=ee;return C(),h(ie,{class:"inline mr-3",clickModalClose:!1,title:"\u9009\u62E9\u670D\u52A1",center:!0,onClose:e[5]||(e[5]=l=>A(b.value)),onConfirm:R,width:"1050px"},{trigger:a(()=>[ae(o.$slots,"popup",{},void 0,!0)]),default:a(()=>[t(j,{model:i,ref_key:"serviceFormRef",ref:b,inline:!0,"label-width":"auto"},{default:a(()=>[t(d,{label:"\u670D\u52A1\u540D\u79F0"},{default:a(()=>[t(u,{class:"ls-input",modelValue:i.name,"onUpdate:modelValue":e[0]||(e[0]=l=>i.name=l),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),t(d,{label:"\u72B6\u6001"},{default:a(()=>[t(E,{modelValue:i.status,"onUpdate:modelValue":e[1]||(e[1]=l=>i.status=l),placeholder:"\u8BF7\u9009\u62E9",class:"ls-input"},{default:a(()=>[t(p,{label:"\u5168\u90E8",value:"0"}),t(p,{label:"\u9500\u552E\u4E2D",value:"1"}),t(p,{label:"\u4ED3\u5E93\u4E2D",value:"2"})]),_:1},8,["modelValue"])]),_:1}),t(d,null,{default:a(()=>[t(k,{type:"primary",onClick:n(v)},{default:a(()=>[_("\u641C\u7D22")]),_:1},8,["onClick"]),t(k,{onClick:n(T)},{default:a(()=>[_("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),m("div",null,[t(L,{ref:"tableDataRef",data:n(r).lists,border:"",style:{width:"100%"}},{default:a(()=>[t(c,{label:"\u9009\u62E9",width:"50"},{header:a(()=>[t(w,{size:"large",modelValue:n(g),"onUpdate:modelValue":e[2]||(e[2]=l=>B(g)?g.value=l:null)},null,8,["modelValue"])]),default:a(({row:l})=>[m("div",{class:"flex row-center",onClick:e[3]||(e[3]=se(()=>{},["stop"]))},[t(w,{"model-value":n(N)(l),onChange:M=>U(M,l),size:"large"},null,8,["model-value","onChange"])])]),_:1}),t(c,{label:"\u670D\u52A1\u540D\u79F0","min-width":"200"},{default:a(l=>[m("div",pe,[t(z,{style:{width:"48px",height:"48px"},src:l.row.image,fit:"cover"},null,8,["src"]),t($,{content:l.row.name,placement:"top"},{default:a(()=>[m("div",ce,ue(l.row.name),1)]),_:2},1032,["content"])])]),_:1}),t(c,{property:"category_desc",label:"\u670D\u52A1\u5206\u7C7B","min-width":"160"}),t(c,{property:"status_desc",label:"\u72B6\u6001","min-width":"120"},{default:a(l=>[l.row.status==1?(C(),h(x,{key:0,type:"success"},{default:a(()=>[_("\u9500\u552E\u4E2D")]),_:1})):I("",!0),l.row.status==0?(C(),h(x,{key:1,type:"info"},{default:a(()=>[_("\u4ED3\u5E93\u4E2D")]),_:1})):I("",!0)]),_:1})]),_:1},8,["data"])]),m("div",_e,[t(re,{modelValue:n(r),"onUpdate:modelValue":e[4]||(e[4]=l=>B(r)?r.value=l:null),onChange:n(v)},null,8,["modelValue","onChange"])])]),_:3})}}});const Xe=me(fe,[["__scopeId","data-v-1875d723"]]);export{Xe as default};
