import{n as O,O as S,A as h,B as R,T as A,P,C as q}from"./element-plus.c171b4f3.js";import{P as I}from"./index.36fb24eb.js";import{r as s,d as N}from"./index.881dcebb.js";import{d as $,r as p,Y as j,o as d,J as m,K as n,R as _,S as g,Q as k,T as o}from"./@vue.dfea2d30.js";function X(e){return s.get({url:"/setting.map_key/lists",params:e})}function L(e){return s.post({url:"/setting.map_key/add",params:e})}function U(e){return s.post({url:"/setting.map_key/edit",params:e})}function z(e){return s.get({url:"/setting.map_key/detail",params:e})}function Z(e){return s.post({url:"/setting.map_key/del",params:e})}const J=$({__name:"edit-form",props:{type:{default:"add"},id:{default:""},btnText:{default:""}},emits:["refresh"],setup(e,{emit:f}){const u=e,i=p(),a=p({key:"",type:1}),v=j({key:[{required:!0,message:"\u8BF7\u8F93\u5165key",trigger:"blur"}],type:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B",trigger:["blur","change"]}]}),c=p(null),b=l=>{!l||l.resetFields()},F=()=>{u.id&&x(u.id)},x=async l=>{const t=await z({id:l});a.value=t},C=async()=>{await L({...a.value}),f("refresh")},B=async()=>{await U({...a.value}),f("refresh")},E=l=>{!l||l.validate(t=>{if(!t)return!1;u.id?B():C(),c.value.visible=!1})};return(l,t)=>{const T=O,V=S,M=h,y=R,w=A,D=P,K=q;return d(),m(I,{class:"inline mr-2",ref_key:"popupRef",ref:c,async:!0,clickModalClose:!1,title:e.btnText,center:!0,onClose:t[2]||(t[2]=r=>b(i.value)),onOpen:F,onConfirm:t[3]||(t[3]=r=>E(i.value)),width:"550px"},{trigger:n(()=>[e.type==="primary"?(d(),m(T,{key:0,type:"primary"},{default:n(()=>[_(g(e.btnText),1)]),_:1})):k("",!0),e.btnText==="\u7F16\u8F91"?(d(),m(V,{key:1,type:"primary",underline:!1},{default:n(()=>[_(g(e.btnText),1)]),_:1})):k("",!0)]),default:n(()=>[o(K,{ref_key:"formRef",ref:i,model:a.value,rules:v,"label-width":"120px",class:"demo-formData"},{default:n(()=>[o(y,{label:"key:",prop:"key"},{default:n(()=>[o(M,{class:"ls-input",modelValue:a.value.key,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.key=r),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),_:1}),o(y,{label:"\u7C7B\u578B:",prop:"type"},{default:n(()=>[o(D,{modelValue:a.value.type,"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.type=r),class:"ls-input"},{default:n(()=>[o(w,{label:"\u817E\u8BAF\u5730\u56FE",value:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])}}});const Q=N(J,[["__scopeId","data-v-0fc22254"]]),ee=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{X as a,Z as b,ee as c,Q as e};
