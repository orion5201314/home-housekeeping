import{n as D,Q as v,Y as T,R as x,G as A,S as P}from"./element-plus.c171b4f3.js";import{a as V}from"./vue-router.9d4d3767.js";import{g as L,h as N}from"./system.91b629e1.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang.e49abccb.js";import{P as C}from"./enum.41ca2dbe.js";import{P as $}from"./index.36fb24eb.js";import{u as j}from"./usePaging.2463cc0e.js";import{d as h,o as s,c as q,T as t,K as o,R as i,L as Q,u as m,J as n,Q as c,a as g,j as S}from"./@vue.dfea2d30.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.881dcebb.js";import"./lodash.6b33b650.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";const G={class:"flex"},I={class:"flex justify-end mr-4"},J=h({name:"settingSystemTask"}),xt=h({...J,setup(K){const _=V(),{pager:u,getLists:l,resetPage:M,resetParams:U}=j({fetchFun:L,params:{}}),F=async r=>{await N({id:r}),l()},b=()=>{_.push({path:"/setting/system/task/edit",query:{mode:C.ADD}})},y=r=>{_.push({path:"/setting/system/task/edit",query:{id:r,mode:C.EDIT}})};return l(),(r,f)=>{const p=D,e=v,d=T,E=x,k=A,w=P;return s(),q("div",null,[t(k,{shadow:"never"},{default:o(()=>[t(p,{type:"primary",onClick:b,class:"mb-[16px]"},{default:o(()=>[i("+\u6DFB\u52A0")]),_:1}),Q((s(),n(E,{ref:"paneTable",class:"m-t-24",data:m(u).lists,style:{width:"100%"}},{default:o(()=>[t(e,{prop:"name",label:"\u540D\u79F0","min-width":"200"}),t(e,{prop:"type_desc",label:"\u7C7B\u578B","min-width":"100"}),t(e,{prop:"command",label:"\u547D\u4EE4","min-width":"160"}),t(e,{prop:"params",label:"\u53C2\u6570","min-width":"100"}),t(e,{prop:"expression",label:"\u89C4\u5219","min-width":"100"}),t(e,{prop:"status",label:"\u72B6\u6001","min-width":"80"},{default:o(({row:a})=>[a.status==1?(s(),n(d,{key:0,type:"success"},{default:o(()=>[i("\u8FD0\u884C\u4E2D")]),_:1})):c("",!0),a.status==2?(s(),n(d,{key:1,type:"info"},{default:o(()=>[i("\u5DF2\u505C\u6B62")]),_:1})):c("",!0),a.status==3?(s(),n(d,{key:2,type:"danger"},{default:o(()=>[i("\u9519\u8BEF")]),_:1})):c("",!0)]),_:1}),t(e,{prop:"error",label:"\u9519\u8BEF\u539F\u56E0","min-width":"150"}),t(e,{prop:"last_time",label:"\u6700\u540E\u6267\u884C\u65F6\u95F4","min-width":"150"}),t(e,{prop:"time",label:"\u65F6\u957F","min-width":"100"}),t(e,{prop:"max_time",label:"\u6700\u5927\u65F6\u957F","min-width":"100"}),t(e,{label:"\u64CD\u4F5C","min-width":"120"},{default:o(a=>[g("div",G,[t(p,{type:"primary",link:"",onClick:B=>y(a.row.id),class:"mr-4"},{default:o(()=>[i("\u7F16\u8F91")]),_:2},1032,["onClick"]),t($,{class:"m-l-10 m-t-20 m-b-20 inline",content:"\u786E\u5B9A\u8981\u505C\u5220\u9664\u4E2A\u5B9A\u65F6\u4EFB\u52A1\u5417\uFF1F\u8BF7\u8C28\u614E\u64CD\u4F5C",onConfirm:B=>F(a.row.id)},{trigger:o(()=>[t(p,{type:"primary",link:"",slot:"trigger"},{default:o(()=>[i("\u5220\u9664")]),_:1})]),_:2},1032,["onConfirm"])])]),_:1})]),_:1},8,["data"])),[[w,m(u).loading]]),g("div",I,[t(R,{modelValue:m(u),"onUpdate:modelValue":f[0]||(f[0]=a=>S(u)?u.value=a:null),onChange:m(l)},null,8,["modelValue","onChange"])])]),_:1})])}}});export{xt as default};
