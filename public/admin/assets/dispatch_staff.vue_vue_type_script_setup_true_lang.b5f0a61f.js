import{P as A,B as C,C as y,T as k}from"./element-plus.c171b4f3.js";import{d as w,s as p,Y as S,r as R,o as i,c as m,T as o,K as a,a2 as V,U as g,a9 as N,a as l,J as L}from"./@vue.dfea2d30.js";import{P}from"./index.36fb24eb.js";import{f as T}from"./index.881dcebb.js";import{a as U,b as I}from"./lists.14edb86a.js";const J={class:"edit-popup"},K=l("div",null,[l("div",{class:"text-info"},"\u9700\u6EE1\u8DB3\u4E0B\u5217\u6761\u4EF6\uFF0C\u5426\u5219\u65E0\u6CD5\u9009\u62E9\u5E08\u5085"),l("div",{class:"text-info"},"1\u3001\u5F53\u524D\u670D\u52A1\u4F4D\u7F6E\u662F\u5426\u5728\u5E08\u5085\u53EF\u63A5\u5355\u533A\u57DF\u5185"),l("div",{class:"text-info"},"2\u3001\u53EA\u6709\u5E08\u5085\u9009\u62E9\u4E86\u8BE5\u670D\u52A1\u9879\u76EE\u624D\u80FD\u63A5\u5355"),l("div",{class:"text-info"},"3\u3001\u5E08\u5085\u7684\u53EF\u670D\u52A1\u65F6\u95F4\u4E0E\u9879\u76EE\u8981\u6C42\u76F8\u7B26")],-1),z=w({__name:"dispatch_staff",props:{id:{type:Number},staff_id:{type:[String,Number]}},emits:["success","close"],setup(E,{expose:_,emit:r}){const n=E,F=p(),f=p(),u=S({id:n.id,staff_id:n.staff_id}),d=R([]),v=()=>{var e;console.log(u.staff_id),U({id:n.id}).then(t=>{d.value=t}),(e=f.value)==null||e.open()},D=()=>{r("close")};_({open:v});const b=async()=>{var e;if(!u.staff_id){T.msgError("\u8BF7\u9009\u62E9\u5E08\u5085");return}await I(u),(e=f.value)==null||e.close(),r("success")};return(e,t)=>{const h=k,B=A,c=C,x=y;return i(),m("div",J,[o(P,{ref_key:"popupRef",ref:f,title:n.staff_id?"\u66F4\u6362\u5E08\u5085":"\u5206\u914D\u5E08\u5085",async:!0,width:"550px",onConfirm:b,onClose:D},{default:a(()=>[o(x,{onSubmit:t[1]||(t[1]=V(()=>{},["prevent"])),ref_key:"formRef",ref:F,model:u,"label-width":"120px"},{default:a(()=>[o(c,{label:"\u9009\u62E9\u5E08\u5085"},{default:a(()=>[o(B,{modelValue:u.staff_id,"onUpdate:modelValue":t[0]||(t[0]=s=>u.staff_id=s),placeholder:"\u8BF7\u9009\u62E9",style:{width:"240px"}},{default:a(()=>[(i(!0),m(g,null,N(d.value,s=>(i(),L(h,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"\u6E29\u99A8\u63D0\u793A"},{default:a(()=>[K]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{z as _};
