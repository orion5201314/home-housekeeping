import{_ as V}from"./index.vue_vue_type_script_setup_true_lang.e49abccb.js";import{$ as B,G as A,Q as S,l as D,O as T,R as $}from"./element-plus.c171b4f3.js";import{u as I}from"./vue-router.9d4d3767.js";import{a as g,b as L,c as P,d as U}from"./additional_form.7f3393b8.js";import{f as N}from"./index.881dcebb.js";import{u as j}from"./usePaging.2463cc0e.js";import{d as v,s as q,i as z,ap as G,o as h,c as H,T as e,K as a,a as s,S as J,u as o,L as p,J as K,R as M,j as O,U as Q}from"./@vue.dfea2d30.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.36fb24eb.js";import"./lodash.6b33b650.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";const W={class:"flex items-center"},X=s("span",{class:"text-large font-600 mr-3"}," \u9644\u52A0\u9879\u76EE ",-1),Y={style:{color:"var(--el-text-color-regular)"}},Z={class:"w-[88px]"},ee={class:"flex items-center"},te={class:"flex justify-end mt-4"},oe=v({name:"serviceAdditional"}),qe=v({...oe,setup(ae){const _=I(),c=_.query.goods_id,w=_.query.goods_name,b=q(),{pager:d,getLists:i,resetPage:se,resetParams:ie}=j({fetchFun:L,params:{goods_id:c}}),y=async l=>{await N.confirm("\u786E\u8BA4\u5220\u9664\u9644\u52A0\u9879\u76EE\uFF1F"),await P({id:l}),i()},E=async(l,n)=>{await U({status:l,id:n}),i()};return z(()=>{i()}),(l,n)=>{const F=B,f=A,r=S,x=D,C=T,k=$,R=V,u=G("perms");return h(),H(Q,null,[e(f,{shadow:"never",class:"!border-none"},{default:a(()=>[e(F,{onBack:n[0]||(n[0]=t=>l.$router.back())},{content:a(()=>[s("div",W,[X,s("span",Y,J(o(w)),1)])]),_:1})]),_:1}),e(f,{shadow:"never",class:"!border-none mt-4"},{default:a(()=>[s("div",Z,[p(e(g,{onRefresh:o(i),type:"primary",btnText:"\u65B0\u589E",goodsId:o(c)},null,8,["onRefresh","goodsId"]),[[u,["goods.goods_additional/add"]]])]),s("div",null,[e(k,{ref_key:"tableRef",ref:b,data:o(d).lists,size:"large","row-key":"id",indent:20,"tree-props":{children:"sons"}},{default:a(()=>[e(r,{property:"name",label:"\u9644\u52A0\u9879\u76EE\u540D\u79F0","min-width":"190"}),e(r,{property:"price",label:"\u4EF7\u683C","min-width":"180"}),e(r,{property:"duration",label:"\u65F6\u957F","min-width":"180"}),e(r,{label:"\u72B6\u6001","min-width":"140"},{default:a(t=>[p(e(x,{modelValue:t.row.status,"onUpdate:modelValue":m=>t.row.status=m,"active-value":1,"inactive-value":0,onChange:m=>E(m,t.row.id)},null,8,["modelValue","onUpdate:modelValue","onChange"]),[[u,["goods.goods_additional/status"]]])]),_:1}),e(r,{property:"update_time",label:"\u66F4\u65B0\u65F6\u95F4","min-width":"180"}),e(r,{label:"\u64CD\u4F5C","min-width":"182",fixed:"right"},{default:a(t=>[s("div",ee,[p(e(g,{id:t.row.id,type:"text",btnText:"\u7F16\u8F91",goodsId:o(c),onRefresh:o(i)},null,8,["id","goodsId","onRefresh"]),[[u,["goods.goods_additional/edit"]]]),p((h(),K(C,{class:"ml-4",type:"danger",underline:!1,onClick:m=>y(t.row.id)},{default:a(()=>[M(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[u,["goods.goods_additional/del"]]])])]),_:1})]),_:1},8,["data"])]),s("div",te,[e(R,{modelValue:o(d),"onUpdate:modelValue":n[1]||(n[1]=t=>O(d)?d.value=t:null),onChange:o(i)},null,8,["modelValue","onChange"])])]),_:1})],64)}}});export{qe as default};
