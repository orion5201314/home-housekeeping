import{H as J,G as K,Q as M,Y as O,n as Y,R as q,I as W,S as X}from"./element-plus.c171b4f3.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang.e49abccb.js";import{u as uu}from"./usePaging.2463cc0e.js";import{i as eu,j as tu,k as lu}from"./system.91b629e1.js";import{d as L,r as B,i as au,o as t,c as r,T as s,K as e,L as $,u as E,J as d,a as l,R as o,Q as F,S as v,U as x,a9 as b,j as su,b7 as ou,b6 as iu}from"./@vue.dfea2d30.js";import{d as nu}from"./index.881dcebb.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.6b33b650.js";import"./vue-router.9d4d3767.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";const p=g=>(ou("data-v-3bf8c1df"),g=g(),iu(),g),ru={class:"system-update"},du=p(()=>l("div",{class:"iconSize"},"\u6E29\u99A8\u63D0\u793A\uFF1A",-1)),Fu=p(()=>l("div",{class:"iconSize flex"},[o(" 1.\u7248\u672C\u66F4\u65B0\u9700\u8981\u9010\u4E2A\u7248\u672C\u66F4\u65B0\uFF0C "),l("div",{class:"a-key"}," \u66F4\u65B0\u524D\u8BF7\u5907\u4EFD\u597D\u7CFB\u7EDF\u548C\u6570\u636E\u5E93\uFF0C\u66F4\u65B0\u6210\u529F\u540E\u9700\u8981\u5F3A\u5236\u5237\u65B0\u7AD9\u70B9\uFF1B ")],-1)),cu=p(()=>l("div",{class:"iconSize"},"2.\u7CFB\u7EDF\u6CA1\u6709\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u53EF\u4EE5\u76F4\u63A5\u9009\u62E9\u5728\u7EBF\u66F4\u65B0\u529F\u80FD\uFF1B",-1)),pu=p(()=>l("div",{class:"iconSize"}," 3.\u7CFB\u7EDF\u5DF2\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u8FDB\u884C\u4E86\u529F\u80FD\u4FEE\u6539\uFF0C\u8BF7\u8C28\u614E\u9009\u62E9\u5728\u7EBF\u66F4\u65B0\u529F\u80FD\uFF0C\u63A8\u8350\u4EE5\u66F4\u65B0\u5305\u7684\u5F62\u5F0F\u624B\u52A8\u66F4\u65B0\uFF1B ",-1)),mu={class:"ls-card mt-[16rpx]"},_u={class:"flex"},fu={class:"m-l-5"},Bu={class:""},Eu={class:"operation flex flex-wrap"},vu={class:"flex mt-4 justify-end"},Cu={style:{height:"200px","text-align":"center"},"element-loading-text":"\u5207\u52FF\u5173\u95ED\u7A97\u53E3\u6216\u5237\u65B0\u9875\u9762"},yu=p(()=>l("div",null,"\u7CFB\u7EDF\u66F4\u65B0\u4E2D\uFF0C\u66F4\u65B0\u5B8C\u6BD5\u540E\u4F1A\u81EA\u884C\u5237\u65B0\u9875\u9762",-1)),Du=[yu],gu={key:0,style:{height:"200px"}},ku=p(()=>l("div",{class:"",style:{"text-align":"center"}}," \u4E00\u952E\u66F4\u65B0\u5BFC\u81F4\u7684\u7CFB\u7EDF\u95EE\u9898\uFF0C\u6B22\u8FCE\u524D\u5F80\u793E\u533A\u53CD\u9988\uFF0C\u8BF7\u505A\u597D\u7CFB\u7EDF\u5907\u4EFD\uFF01 ",-1)),wu={class:"btn-div flex-col",style:{width:"160px",margin:"auto"}},hu={key:1,style:{height:"200px"}},xu=p(()=>l("div",{class:"",style:{"text-align":"center"}},[l("div",null,"\u4E8C\u6B21\u5F00\u53D1\u540E\u8BF7\u8C28\u614E\u4F7F\u7528\u4E00\u952E\u66F4\u65B0\u529F\u80FD\uFF01"),l("div",null,"\u4E8C\u6B21\u5F00\u53D1\u540E\u4E00\u952E\u66F4\u65B0\u5BFC\u81F4\u7684\u7CFB\u7EDF\u95EE\u9898\uFF0C\u5B98\u65B9\u65E0\u6CD5\u5904\u7406\uFF0C\u8BF7\u505A\u597D\u7CFB\u7EDF\u5907\u4EFD\uFF01")],-1)),bu={class:"btn-div flex-col",style:{width:"160px",margin:"auto"}},Au={style:{height:"200px"}},zu=p(()=>l("div",{class:"pb-4",style:{"text-align":"center"}},"\u7CFB\u7EDF\u662F\u5426\u8FDB\u884C\u4E8C\u6B21\u5F00\u53D1",-1)),Vu={class:"flex-col"},Su=L({name:"settingSystemUpdata"}),$u=L({...Su,setup(g){const C=B(!1),c=B(!1),k=B(!1),w=B(!0),U=B(0),A=B(0),{pager:m,getLists:z,resetParams:Uu,resetPage:Tu}=uu({fetchFun:eu}),f=(y,a)=>{A.value&&clearTimeout(A.value),A.value=setTimeout(()=>{tu({id:y,update_type:a}).then(h=>{a==6?window.open(h.line,"_blank"):window.location.href=h.line})},500)},N=()=>{lu({id:U.value,update_type:1}).then(y=>{z()}).finally(()=>{k.value=!1,c.value=!1,C.value=!1})},P=y=>{C.value=!0,U.value=y},j=()=>{w.value=!1,c.value=!0},R=()=>{w.value=!0,c.value=!0},T=()=>{k.value=!0,N()};return au(()=>{z()}),(y,a)=>{const h=J,I=K,D=M,Q=O,i=Y,G=q,H=Z,V=W,S=X;return t(),r("div",ru,[s(I,{class:"!border-none",shadow:"never"},{default:e(()=>[s(h,{class:"xxl",type:"warning",closable:!1,"show-icon":""},{title:e(()=>[du,Fu,cu,pu]),_:1})]),_:1}),$((t(),d(I,{class:"!border-none mt-4",shadow:"never"},{default:e(()=>[l("div",mu,[$((t(),d(G,{data:E(m).lists,style:{width:"100%"},size:"mini","header-cell-style":{background:"#f5f8ff"}},{default:e(()=>[s(D,{prop:"publish_time",label:"\u53D1\u5E03\u65E5\u671F"}),s(D,{label:"\u7248\u672C\u53F7"},{default:e(u=>[l("div",_u,[u.$index==0&&E(m).page==1?(t(),d(Q,{key:0,size:"small",type:"success",effect:"plain",round:""},{default:e(()=>[o(" new")]),_:1})):F("",!0),l("div",fu,v(u.row.version_no),1)]),l("div",Bu,v(u.row.version_str),1)]),_:1}),s(D,{prop:"",label:"\u7248\u672C\u5185\u5BB9"},{default:e(u=>[(t(!0),r(x,null,b(u.row.add,(n,_)=>(t(),r("div",{key:_},v(n),1))),128)),(t(!0),r(x,null,b(u.row.optimize,(n,_)=>(t(),r("div",{key:_},v(n),1))),128)),(t(!0),r(x,null,b(u.row.repair,(n,_)=>(t(),r("div",{key:_},v(n),1))),128))]),_:1}),s(D,{prop:"notice",label:"\u6CE8\u610F\u4E8B\u9879"},{default:e(u=>[(t(!0),r(x,null,b(u.row.notice,(n,_)=>(t(),r("div",{class:"",key:_},v(n),1))),128))]),_:1}),s(D,{label:"\u64CD\u4F5C","min-width":"200px"},{default:e(u=>[l("div",Eu,[u.row.able_update==1?(t(),d(i,{key:0,class:"m-r-10",type:"primary",size:"small",onClick:n=>P(u.row.id)},{default:e(()=>[o("\u4E00\u952E\u66F4\u65B0 ")]),_:2},1032,["onClick"])):F("",!0),u.row.integral_package_link?(t(),d(i,{key:1,class:"m-r-10",type:"",size:"small",onClick:n=>f(u.row.id,6)},{default:e(()=>[o("\u4E0B\u8F7D\u5B8C\u6574\u5B89\u88C5\u5305 ")]),_:2},1032,["onClick"])):F("",!0),u.row.package_link?(t(),d(i,{key:2,class:"m-r-10",type:"",size:"small",onClick:n=>f(u.row.id,2)},{default:e(()=>[o("\u4E0B\u8F7D\u670D\u52A1\u7AEF\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.pc_package_link?(t(),d(i,{key:3,class:"m-r-10",type:"",size:"small",onClick:n=>f(u.row.id,3)},{default:e(()=>[o("\u4E0B\u8F7Dpc\u7AEF\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.uniapp_package_link?(t(),d(i,{key:4,class:"m-r-10",type:"",size:"small",onClick:n=>f(u.row.id,4)},{default:e(()=>[o("\u4E0B\u8F7Duniapp\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.web_package_link?(t(),d(i,{key:5,class:"",type:"",size:"small",onClick:n=>f(u.row.id,5)},{default:e(()=>[o(" \u4E0B\u8F7D\u540E\u53F0\u524D\u7AEF\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0),u.row.kefu_package_link?(t(),d(i,{key:6,class:"",type:"",size:"small",onClick:n=>f(u.row.id,8)},{default:e(()=>[o(" \u4E0B\u8F7D\u5BA2\u670D\u66F4\u65B0\u5305")]),_:2},1032,["onClick"])):F("",!0)])]),_:1})]),_:1},8,["data"])),[[S,!1]])]),l("div",vu,[s(H,{modelValue:E(m),"onUpdate:modelValue":a[0]||(a[0]=u=>su(m)?m.value=u:null),onChange:E(z)},null,8,["modelValue","onChange"])])]),_:1})),[[S,E(m).loading]]),s(V,{class:"dialog",title:"",modelValue:C.value,"onUpdate:modelValue":a[7]||(a[7]=u=>C.value=u),width:"50%",center:""},{default:e(()=>[s(V,{class:"dialogTwo",width:"50%",modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=u=>c.value=u),"append-to-body":"",center:""},{default:e(()=>[s(V,{class:"dialogThree",width:"50%",modelValue:k.value,"onUpdate:modelValue":a[1]||(a[1]=u=>k.value=u),"append-to-body":"",center:"","close-on-click-modal":!1,"close-on-press-escape":!1},{default:e(()=>[$((t(),r("div",Cu,Du)),[[S,E(m).loading]])]),_:1},8,["modelValue"]),w.value==!1?(t(),r("div",gu,[ku,l("div",wu,[s(i,{type:"primary",onClick:T,size:"small",style:{"margin-top":"15px","margin-left":"0"},class:"mr-3"},{default:e(()=>[o("\u786E\u5B9A\u66F4\u65B0")]),_:1}),s(i,{onClick:a[2]||(a[2]=u=>c.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o(" \u53D6\u6D88\u66F4\u65B0")]),_:1})])])):F("",!0),w.value==!0?(t(),r("div",hu,[xu,l("div",bu,[s(i,{type:"primary",onClick:T,size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o("\u786E\u5B9A\u66F4\u65B0")]),_:1}),s(i,{onClick:a[3]||(a[3]=u=>c.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o(" \u4E0B\u8F7D\u66F4\u65B0\u5305\uFF0C\u624B\u52A8\u66F4\u65B0")]),_:1}),s(i,{onClick:a[4]||(a[4]=u=>c.value=!1),size:"small",style:{"margin-top":"15px","margin-left":"0"}},{default:e(()=>[o(" \u53D6\u6D88\u66F4\u65B0")]),_:1})])])):F("",!0)]),_:1},8,["modelValue"]),l("div",Au,[zu,l("div",Vu,[s(i,{type:"primary",onClick:j,size:"small"},{default:e(()=>[o("\u672A\u505A\u4E8C\u6B21\u5F00\u53D1\uFF0C\u76F4\u63A5\u66F4\u65B0")]),_:1}),s(i,{onClick:R,size:"small"},{default:e(()=>[o("\u5DF2\u505A\u4E8C\u6B21\u5F00\u53D1")]),_:1}),s(i,{onClick:a[6]||(a[6]=u=>C.value=!1),size:"small"},{default:e(()=>[o("\u53D6\u6D88\u66F4\u65B0")]),_:1})])])]),_:1},8,["modelValue"])])}}});const fe=nu($u,[["__scopeId","data-v-3bf8c1df"]]);export{fe as default};
