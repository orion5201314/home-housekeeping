import{n as E,O as A,A as O,B as R,C as q}from"./element-plus.c171b4f3.js";import{P as h}from"./index.36fb24eb.js";import{r,d as I}from"./index.881dcebb.js";import{d as N,r as m,Y as P,o as _,J as c,K as u,R as s,S as g,Q as v,T as l}from"./@vue.dfea2d30.js";function Y(e){return r.get({url:"/staff.staff_deposit/lists",params:e})}function U(e){return r.get({url:"/staff.staff_deposit/detail",params:e})}function j(e){return r.post({url:"/staff.staff_deposit/add",params:e})}function L(e){return r.post({url:"/staff.staff_deposit/edit",params:e})}function G(e){return r.post({url:"/staff.staff_deposit/del",params:e})}const M=N({__name:"deposit_form",props:{type:{default:"add"},id:{default:""},btnText:{default:""}},emits:["refresh"],setup(e,{emit:D}){const i=e,d=m(),a=m({name:"",amount:null,order_num:null}),b=P({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u4FDD\u8BC1\u91D1\u540D\u79F0",trigger:"blur"}],amount:[{required:!0,message:"\u8BF7\u8F93\u5165\u4FDD\u8BC1\u91D1\u91D1\u989D",trigger:"blur"}],order_num:[{required:!0,message:"\u8BF7\u8F93\u5165\u65E5\u63A5\u5355\u6570\u91CF",trigger:"blur"}]}),y=m(null),F=o=>{!o||o.resetFields()},C=()=>{i.id&&x(i.id)},x=async o=>{const t=await U({id:o});a.value=t},V=async()=>{await j({...a.value}),D("refresh")},B=async()=>{await L({...a.value}),D("refresh")},w=o=>{!o||o.validate(async t=>{if(!t)return!1;i.id?await B():await V(),y.value.visible=!1})};return(o,t)=>{const S=E,k=A,f=O,p=R,T=q;return _(),c(h,{class:"inline mr-2",ref_key:"popupRef",ref:y,async:!0,clickModalClose:!1,title:e.btnText,center:!0,onClose:t[3]||(t[3]=n=>F(d.value)),onOpen:C,onConfirm:t[4]||(t[4]=n=>w(d.value)),width:"550px"},{trigger:u(()=>[e.type==="primary"?(_(),c(S,{key:0,type:"primary"},{default:u(()=>[s(g(e.btnText),1)]),_:1})):v("",!0),e.btnText==="\u7F16\u8F91"?(_(),c(k,{key:1,type:"primary",underline:!1},{default:u(()=>[s(g(e.btnText),1)]),_:1})):v("",!0)]),default:u(()=>[l(T,{ref_key:"formRef",ref:d,model:a.value,rules:b,"label-width":"120px",class:"demo-formData"},{default:u(()=>[l(p,{label:"\u4FDD\u8BC1\u91D1\u540D\u79F0:",prop:"name"},{default:u(()=>[l(f,{class:"ls-input",modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=n=>a.value.name=n),maxlength:"10","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(p,{label:"\u4FDD\u8BC1\u91D1\u91D1\u989D:",prop:"amount"},{default:u(()=>[l(f,{class:"ls-input",modelValue:a.value.amount,"onUpdate:modelValue":t[1]||(t[1]=n=>a.value.amount=n),type:"number"},{append:u(()=>[s("\u5143")]),_:1},8,["modelValue"])]),_:1}),l(p,{label:"\u65E5\u63A5\u5355\u6570\u91CF:",prop:"order_num"},{default:u(()=>[l(f,{class:"ls-input",modelValue:a.value.order_num,"onUpdate:modelValue":t[2]||(t[2]=n=>a.value.order_num=n),type:"number"},{append:u(()=>[s("\u5355")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])}}});const $=I(M,[["__scopeId","data-v-3257999d"]]),H=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{Y as a,G as b,H as c,$ as d};
