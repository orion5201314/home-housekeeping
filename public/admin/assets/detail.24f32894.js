import{d as Q,V as S,$ as T,G as V,B as N,C as O,s as $,Q as P,R as q}from"./element-plus.c171b4f3.js";import{u as G}from"./vue-router.9d4d3767.js";import{m as H}from"./lists.14edb86a.js";import J from"./operation.40e45490.js";import{l as K}from"./index.881dcebb.js";import{d as L,r,i as M,af as U,o as c,c as v,T as t,K as s,a as e,S as l,J as F,Q as y,U as B,a9 as D}from"./@vue.dfea2d30.js";import"./lodash-es.f52bd8b1.js";import"./async-validator.fb49d0f5.js";import"./@vueuse.29b489e3.js";import"./@element-plus.36601d8a.js";import"./dayjs.118a1d63.js";import"./axios.0fee1ac1.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.36fb24eb.js";import"./refund_lists.vue_vue_type_script_setup_true_lang.eee36e62.js";import"./usePaging.2463cc0e.js";import"./index.vue_vue_type_script_setup_true_lang.e49abccb.js";import"./refund.vue_vue_type_script_setup_true_lang.c970ff02.js";import"./dispatch_staff.vue_vue_type_script_setup_true_lang.b5f0a61f.js";import"./lodash.6b33b650.js";import"./pinia.b9396de9.js";import"./css-color-function.0b1d1468.js";import"./color.db38fb11.js";import"./clone.21471390.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.988d93fe.js";import"./vue-clipboard3.d44f8fc1.js";import"./clipboard.802e3b4c.js";import"./echarts.db1d6bb4.js";import"./zrender.84752e5a.js";import"./tslib.60310f1a.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.7c69c760.js";const z={class:"order-detail-main"},W=e("div",{class:"card-header"},[e("span",{class:"font-medium nr"},"\u8BA2\u5355\u4FE1\u606F")],-1),X={class:"flex justify-around"},Y={class:"w-3/12"},Z={class:"content text-warning"},ee={class:"content"},te={class:"content"},se={class:"w-3/12"},ae={class:"content"},oe={class:"content"},le={class:"content"},ue={class:"w-3/12"},de={class:"content"},ne={class:"content"},ie={class:"content"},re={class:"button-group"},_e=e("span",{class:"font-medium nr"},"\u9884\u7EA6\u4FE1\u606F",-1),ce={class:"flex justify-around"},pe={class:"w-3/12"},me=e("div",{class:"font-bold text-[18px] mb-[10px]"},"\u9884\u7EA6\u4FE1\u606F",-1),fe={class:"content"},ve={class:"content"},he={class:"content"},be={class:"content"},Fe={class:"w-3/12"},xe=e("div",{class:"font-bold text-[18px] mb-[10px]"},"\u4EA4\u6613\u4FE1\u606F",-1),Ee={class:"content"},we={class:"content"},ye={class:"w-3/12"},Be=e("div",{class:"font-bold text-[18px] mb-[10px]"},"\u4E70\u5BB6\u4FE1\u606F",-1),De={class:"content"},ge={class:"content"},Ce={class:"content"},Ae=e("span",{class:"font-medium nr"},"\u5E08\u5085\u4FE1\u606F",-1),ke={class:"flex justify-around"},Re={class:"w-3/12"},je={class:"content"},Ie={class:"content"},Qe={class:"w-3/12"},Se={class:"content"},Te={class:"w-3/12"},Ve={class:"content"},Ne=e("span",{class:"font-medium nr"},"\u670D\u52A1\u4FE1\u606F",-1),Oe={class:"flex items-center"},$e={class:"justify-center ml-2"},Pe={class:"mt-[15px] mb-[15px] w-full flex justify-between pl-[30px] pr-[30px]"},qe=e("span",{class:"text-info"},"\u5546\u54C1\u603B\u989D: ",-1),Ge=e("span",{class:"text-info"},"\u8865\u5DEE\u4EF7: ",-1),He=e("span",{class:"text-info"},"\u52A0\u9879\u8D39: ",-1),Je={class:"mr-[5px]"},Ke={class:"flex justify-end mt-[20px] items-end mr-[40px]"},Le=e("span",null,"\u5408\u8BA1\uFF1A",-1),Me={class:"text-[#F56C6C] font-bold text-[18px]"},Ue=e("span",{class:"font-medium nr"},"\u7ED3\u7B97\u4FE1\u606F",-1),ze=e("span",{class:"font-medium nr"},"\u670D\u52A1\u6253\u5361\u8BB0\u5F55",-1),We={class:"text-sm text-info"},Xe=e("span",{class:"font-medium nr"},"\u8BA2\u5355\u65E5\u5FD7",-1),Ot=L({__name:"detail",setup(Ye){const g=G(),h=r(g.query.id),a=r({});r([]),r(""),r(null);const C=r(0);r({}),r(K);const x=async()=>{a.value=await H({id:h.value})};return h.value&&x(),M(()=>{setTimeout(()=>{a.value.staff&&a.value.order_status==1&&(C.value=2)},200)}),(A,E)=>{const k=T,n=V,u=N,p=O,b=$,d=P,R=U("QuestionFilled"),j=Q,I=S,f=q;return c(),v("div",null,[t(n,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[t(k,{content:"\u8BA2\u5355\u8BE6\u60C5",onBack:E[0]||(E[0]=o=>A.$router.back())})]),_:1}),e("div",z,[t(n,{class:"!border-none mt-4",shadow:"never",style:{padding:"0 20px"}},{header:s(()=>[W]),default:s(()=>[t(p,{inline:!0,model:a.value,"label-width":"auto"},{default:s(()=>[e("div",X,[e("div",Y,[t(u,{label:"\u8BA2\u5355\u72B6\u6001: "},{default:s(()=>[e("div",Z,l(a.value.order_status_desc||"-"),1)]),_:1}),t(u,{label:"\u652F\u4ED8\u65B9\u5F0F: "},{default:s(()=>[e("div",ee,l(a.value.pay_way_desc||"-"),1)]),_:1}),t(u,{label:"\u4E0B\u5355\u65F6\u95F4: "},{default:s(()=>[e("div",te,l(a.value.create_time||"-"),1)]),_:1})]),e("div",se,[t(u,{label:"\u652F\u4ED8\u72B6\u6001: "},{default:s(()=>[e("div",ae,l(a.value.pay_status_desc||"-"),1)]),_:1}),t(u,{label:"\u8BA2\u5355\u7C7B\u578B: "},{default:s(()=>[e("div",oe,l(a.value.order_type_desc||"-"),1)]),_:1}),t(u,{label:"\u652F\u4ED8\u65F6\u95F4: "},{default:s(()=>[e("div",le,l(a.value.pay_time||"-"),1)]),_:1})]),e("div",ue,[t(u,{label:"\u8BA2\u5355\u7F16\u53F7: "},{default:s(()=>[e("div",de,l(a.value.sn||"-"),1)]),_:1}),t(u,{label:"\u8BA2\u5355\u6765\u6E90: "},{default:s(()=>[e("div",ne,l(a.value.order_terminal_desc||"-"),1)]),_:1}),t(u,{label:"\u5B8C\u6210\u65F6\u95F4: "},{default:s(()=>[e("div",ie,l(a.value.finish_time||"-"),1)]),_:1})])])]),_:1},8,["model"]),e("div",re,[t(J,{btnStyle:"primary",id:h.value,admin_order_btn:a.value.admin_order_btn,staff_id:a.value.staff_id,settlement_status:a.value.settlement_status,onRefresh:x},null,8,["id","admin_order_btn","staff_id","settlement_status"])])]),_:1}),t(n,{class:"!border-none mt-4",shadow:"never",style:{padding:"0 20px"}},{header:s(()=>[_e]),default:s(()=>[e("div",ce,[e("div",pe,[me,t(p,{inline:!0,model:a.value,"label-width":"auto"},{default:s(()=>[t(u,{label:"\u9884\u7EA6\u4EBA: "},{default:s(()=>[e("div",fe,l(a.value.contact)+" "+l(a.value.mobile),1)]),_:1}),t(u,{label:"\u9884\u7EA6\u65F6\u95F4: "},{default:s(()=>[e("div",ve,l(a.value.appoint_time_desc||"-"),1)]),_:1}),t(u,{label:"\u670D\u52A1\u5730\u5740: "},{default:s(()=>{var o,i,_,m;return[e("div",he,l((o=a.value.address_info)==null?void 0:o.province)+" "+l((i=a.value.address_info)==null?void 0:i.city)+" "+l((_=a.value.address_info)==null?void 0:_.district)+" "+l((m=a.value.address_info)==null?void 0:m.address),1)]}),_:1}),t(u,{label:"\u4E70\u5BB6\u7559\u8A00: "},{default:s(()=>[e("div",be,l(a.value.user_remark||"-"),1)]),_:1})]),_:1},8,["model"])]),e("div",Fe,[xe,t(p,{inline:!0,model:a.value,"label-width":"auto"},{default:s(()=>[t(u,{label:"\u5B9E\u4ED8\u91D1\u989D: "},{default:s(()=>[e("div",Ee,l(a.value.order_amount),1)]),_:1}),t(u,{label:"\u5546\u5BB6\u7559\u8A00: "},{default:s(()=>[e("div",we,l(a.value.order_remarks||"-"),1)]),_:1})]),_:1},8,["model"])]),e("div",ye,[Be,t(p,{inline:!0,model:a.value,"label-width":"auto"},{default:s(()=>[t(u,{label:"ID: "},{default:s(()=>{var o;return[e("div",De,l((o=a.value.user)==null?void 0:o.sn),1)]}),_:1}),t(u,{label:"\u6635\u79F0: "},{default:s(()=>{var o;return[e("div",ge,l((o=a.value.user)==null?void 0:o.nickname),1)]}),_:1}),t(u,{label:"\u8054\u7CFB\u7535\u8BDD: "},{default:s(()=>{var o;return[e("div",Ce,l((o=a.value.user)==null?void 0:o.mobile),1)]}),_:1})]),_:1},8,["model"])])])]),_:1}),a.value.staff?(c(),F(n,{key:0,class:"!border-none mt-4",shadow:"never",style:{padding:"0 20px"}},{header:s(()=>[Ae]),default:s(()=>[t(p,{inline:!0,model:a.value,"label-width":"auto"},{default:s(()=>[e("div",ke,[e("div",Re,[t(u,{label:"\u5934\u50CF: "},{default:s(()=>{var o;return[e("div",je,[t(b,{src:(o=a.value.staff)==null?void 0:o.work_image,style:{width:"40px",height:"40px","border-radius":"50%"}},null,8,["src"])])]}),_:1}),t(u,{label:"\u8054\u7CFB\u7535\u8BDD: "},{default:s(()=>{var o;return[e("div",Ie,l((o=a.value.staff)==null?void 0:o.mobile),1)]}),_:1})]),e("div",Qe,[t(u,{label:"\u59D3\u540D: "},{default:s(()=>{var o;return[e("div",Se,l((o=a.value.staff)==null?void 0:o.name),1)]}),_:1})]),e("div",Te,[t(u,{label:"\u5DE5\u53F7: "},{default:s(()=>{var o;return[e("div",Ve,l((o=a.value.staff)==null?void 0:o.sn),1)]}),_:1})])])]),_:1},8,["model"])]),_:1})):y("",!0),t(n,{class:"!border-none mt-4",shadow:"never",style:{padding:"0 20px"}},{header:s(()=>[Ne]),default:s(()=>[t(f,{ref:"tableDataRef",data:a.value.order_goods,"table-layout":"auto",style:{width:"100%"}},{append:s(()=>[e("div",Pe,[e("div",null,[qe,e("span",null,l(a.value.goods_price),1)]),e("div",null,[Ge,e("span",null,l(a.value.difference_price),1)]),e("div",null,[He,e("span",Je,l(a.value.additional_price),1),t(I,{placement:"top-start",width:"200px",trigger:"hover"},{reference:s(()=>[t(j,null,{default:s(()=>[t(R)]),_:1})]),default:s(()=>[(c(!0),v(B,null,D(a.value.order_additional,o=>(c(),v("div",{key:o.id},l(o.name)+"/\u6570\u91CF:"+l(o.num)+"/\uFFE5"+l(o.price),1))),128))]),_:1})])])]),default:s(()=>[t(d,{label:"\u670D\u52A1\u4FE1\u606F"},{default:s(o=>[e("div",Oe,[t(b,{style:{width:"58px",height:"58px"},src:o.row.goods_image,fit:"cover"},null,8,["src"]),e("div",$e,l(o.row.goods_name),1)])]),_:1}),t(d,{property:"goods_sku",label:"\u89C4\u683C"}),t(d,{property:"goods_num",label:"\u6570\u91CF"}),t(d,{property:"goods_price",label:"\u5355\u4EF7"})]),_:1},8,["data"]),e("div",Ke,[Le,e("span",Me,l(a.value.order_amount),1)])]),_:1}),t(n,{class:"!border-none mt-4",shadow:"never",style:{padding:"0 20px"}},{header:s(()=>[Ue]),default:s(()=>[t(f,{ref:"tableDataRef",data:a.value.settlement_info,style:{width:"100%"},"table-layout":"auto"},{default:s(()=>[t(d,{property:"order_amount",label:"\u652F\u4ED8\u603B\u91D1\u989D"}),t(d,{property:"refund_amount",label:"\u9000\u6B3E\u91D1\u989D"}),t(d,{property:"earnings",label:"\u7ED3\u7B97\u91D1\u989D"}),t(d,{property:"settlement_status_desc",label:"\u7ED3\u7B97\u72B6\u6001"})]),_:1},8,["data"])]),_:1}),a.value.order_checkin?(c(),F(n,{key:1,class:"!border-none mt-4",shadow:"never",style:{padding:"0 20px"}},{header:s(()=>[ze]),default:s(()=>[t(f,{ref:"tableDataRef",data:a.value.order_checkin,style:{width:"100%"}},{default:s(()=>[t(d,{property:"order_status_desc",label:"\u72B6\u6001"}),t(d,{label:"\u4F4D\u7F6E","min-width":"200px"},{default:s(o=>{var i,_,m,w;return[e("div",null,[e("div",null,l((i=o.row.address_info)==null?void 0:i.address),1),e("div",We,l((_=o.row.address_info)==null?void 0:_.province)+"- "+l((m=o.row.address_info)==null?void 0:m.city)+"- "+l((w=o.row.address_info)==null?void 0:w.district),1)])]}),_:1}),t(d,{property:"create_time",label:"\u56FE\u7247","min-width":"300px"},{default:s(o=>[e("div",null,[(c(!0),v(B,null,D(o.row.image_info,(i,_)=>(c(),F(b,{key:_,style:{width:"58px",height:"58px","margin-right":"5px"},src:i,"preview-src-list":[i],fit:"cover","preview-teleported":!0},null,8,["src","preview-src-list"]))),128))])]),_:1}),t(d,{property:"create_time",label:"\u4E0A\u4F20\u65F6\u95F4","min-width":"120px"})]),_:1},8,["data"])]),_:1})):y("",!0),t(n,{class:"!border-none mt-4",shadow:"never",style:{padding:"0 20px"}},{header:s(()=>[Xe]),default:s(()=>[t(f,{ref:"tableDataRef",data:a.value.order_log,style:{width:"100%"}},{default:s(()=>[t(d,{property:"operator",label:"\u64CD\u4F5C\u4EBA","max-width":"300"}),t(d,{property:"channel_desc",label:"\u64CD\u4F5C\u4E8B\u4EF6","max-width":"300"}),t(d,{property:"create_time",label:"\u64CD\u4F5C\u65F6\u95F4","max-width":"300"})]),_:1},8,["data"])]),_:1})])])}}});export{Ot as default};
