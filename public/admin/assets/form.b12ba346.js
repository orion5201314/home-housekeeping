import{n as B,O as E,A as O,B as R,C as S}from"./element-plus.c171b4f3.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang.b54cc846.js";import{P as A}from"./index.36fb24eb.js";import{r as s,d as I}from"./index.881dcebb.js";import{d as N,r as d,o as c,J as p,K as l,R as y,S as b,Q as v,T as r}from"./@vue.dfea2d30.js";function H(e){return s.get({url:"/setting.web.protocol/lists",params:e})}function $(e){return s.get({url:"/setting.web.protocol/detail",params:e})}function j(e){return s.post({url:"/setting.web.protocol/add",params:e})}function L(e){return s.post({url:"/setting.web.protocol/edit",params:e})}function W(e){return s.post({url:"/setting.web.protocol/del",params:e})}const M=N({__name:"form",props:{type:{default:"add"},id:{default:""},btnText:{default:""}},emits:["refresh"],setup(e,{emit:f}){const i=e,u=d(),o=d({title:"",content:""}),m=d(null),g=n=>{!n||n.resetFields()},w=()=>{i.id&&x(i.id)},x=async n=>{const t=await $({id:n});o.value=t},C=async()=>{await j({...o.value}),f("refresh")},k=async()=>{await L({...o.value}),f("refresh")},V=n=>{!n||n.validate(async t=>{if(!t)return!1;i.id?await k():await C(),m.value.visible=!1})};return(n,t)=>{const F=B,P=E,T=O,_=R,D=q,h=S;return c(),p(A,{class:"inline mr-2",ref_key:"popupRef",ref:m,async:!0,clickModalClose:!1,title:e.btnText,center:!0,onClose:t[2]||(t[2]=a=>g(u.value)),onOpen:w,onConfirm:t[3]||(t[3]=a=>V(u.value)),width:"800px"},{trigger:l(()=>[e.type==="primary"?(c(),p(F,{key:0,type:"primary"},{default:l(()=>[y(b(e.btnText),1)]),_:1})):v("",!0),e.btnText==="\u7F16\u8F91"?(c(),p(P,{key:1,type:"primary",underline:!1},{default:l(()=>[y(b(e.btnText),1)]),_:1})):v("",!0)]),default:l(()=>[r(h,{ref_key:"formRef",ref:u,model:o.value,"label-width":"120px",class:"demo-formData"},{default:l(()=>[r(_,{label:"\u6587\u672C\u540D\u79F0:",prop:"title",required:""},{default:l(()=>[r(T,{class:"w-[550px]",modelValue:o.value.title,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.title=a)},null,8,["modelValue"])]),_:1}),r(_,{label:"\u6587\u672C\u5185\u5BB9:",prop:"content",required:""},{default:l(()=>[r(D,{class:"mb-10",modelValue:o.value.content,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.content=a),height:"500",width:"550"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])}}});const U=I(M,[["__scopeId","data-v-e0037314"]]),X=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));export{U as F,H as a,W as b,X as f};
