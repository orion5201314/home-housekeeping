import{f as e,u as t,h as a,r as l,d as s,o as n,p as i,ai as r,x as d,b as u,F as o,y as c,e as f,q as v,aj as p,g as x,k as m,j as g,m as _,w as y,t as k,c as b,a as h,G as j,H as w,I as C,i as O}from"./index.ceec0680.js";import{_ as I}from"./page-meta.7314eaca.js";import{_ as $}from"./u-image.d192f048.js";import{_ as L}from"./index.18ef6f3f.js";import{_ as U}from"./u-icon.0c807563.js";import{n as q}from"./util.52efa071.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-badge.5f9f6552.js";const G=e({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:x}=t(),m=a((()=>t().kefuInfo)),g=e=>{if("/bundle/pages/contact_service/index"===e.link.path)switch(parseInt(m.value.way)){case 1:q(e.link);break;case 2:m.value.phone?p({phoneNumber:m.value.phone}):uni.$u.toast("请在后台配置客服电话号码")}else q(e.link)};return(t,a)=>{const p=l(s("u-image"),$),m=l(s("u-icon"),U);return e.content.enabled?(n(),i("div",{key:0,class:"user-service bg-white rounded-lg p-[30rpx]"},[e.content.title?(n(),i("div",{key:0,class:"title font-medium text-lg"},[r("div",null,d(e.content.title),1)])):u("v-if",!0),u(" 横排 "),1==e.content.style?(n(),i("div",{key:1,class:"grid grid-cols-4 gap-x-6"},[(n(!0),i(o,null,c(e.content.data,((e,t)=>(n(),i("div",{key:t,class:"flex flex-col items-center pt-[40rpx]",onClick:t=>g(e)},[f(p,{width:"68",height:"68",src:v(x)(e.image),alt:""},null,8,["src"]),r("div",{class:"mt-2 text-xs"},d(e.name),1)],8,["onClick"])))),128))])):u("v-if",!0),u(" 竖排 "),2==e.content.style?(n(),i("div",{key:2},[(n(!0),i(o,null,c(e.content.data,((e,t)=>(n(),i("div",{key:t,class:"flex items-center h-[100rpx] px-[24rpx]",onClick:t=>g(e)},[f(p,{width:"52",height:"52",src:v(x)(e.image),alt:""},null,8,["src"]),r("div",{class:"ml-[20rpx] flex-1"},d(e.name),1),r("div",{class:"text-muted"},[f(m,{name:"arrow-right"})])],8,["onClick"])))),128))])):u("v-if",!0)])):u("v-if",!0)}}});var H=F(e({__name:"index",setup(e){const r=t(),{getImageUrl:p}=t(),U=x(),q=a((()=>U.userInfo)),F=a((()=>r.config)),H=m({data:[],meta:[]}),N=g([]),S=e=>{C({url:e})},z=a((()=>{var e;const{bg_type:t,bg_color:a,bg_image:l}=null!=(e=H.meta)?e:{};return 1==t?{"background-color":a}:{"background-image":`url(${p(l)})`}}));return _((()=>{(async()=>{var e,t;const a=await j({id:6});H.data=a.data,H.meta=null==(e=a.meta[0])?void 0:e.content,N.value=null==(t=a.data.find((e=>"user-info"===e.name)))?void 0:t.content.content,w({title:H.meta.title})})()})),(e,t)=>{const a=l(s("page-meta"),I),r=l(s("u-image"),$),p=O;return n(),i(o,null,[f(a,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),f(p,{class:"user",style:h(v(z))},{default:y((()=>[f(p,{class:"user--info"},{default:y((()=>[f(p,{class:"u-flex"},{default:y((()=>{var e;return[u(" 用户头像 "),f(r,{onClick:t[0]||(t[0]=e=>S("/pages/user_set/index")),src:(null==(e=v(q))?void 0:e.avatar)||v(F).default_avatar,width:"100",height:"100","border-radius":"50"},null,8,["src"]),u(" 用户名字 "),f(p,{class:"ml-[20rpx] text-[#ffffff]",onClick:t[1]||(t[1]=e=>S("/pages/user_set/index"))},{default:y((()=>{var e;return[f(p,null,{default:y((()=>{var e;return[k(d(v(U).isLogin?(null==(e=v(q))?void 0:e.name)||"未入驻":"请登录"),1)]})),_:1}),(null==(e=v(q))?void 0:e.sn)&&v(U).isLogin?(n(),b(p,{key:0,class:"text-[22rpx] text-[#ffffffbd]"},{default:y((()=>{var e,t,a;return[k(d(1===(null==(e=H.data.find((e=>"user-info"===e.name)))?void 0:e.content.user_info)?"工号："+(null==(t=v(q))?void 0:t.sn):"手机号："+(null==(a=v(q))?void 0:a.mobile)),1)]})),_:1})):u("v-if",!0)]})),_:1})]})),_:1})])),_:1}),f(p,{class:"main"},{default:y((()=>{var e;return[!(null==(e=v(q))?void 0:e.is_staff)||-1==N.value.indexOf("保证金")&&-1==N.value.indexOf("佣金")&&-1==N.value.indexOf("服务项目")?u("v-if",!0):(n(),b(p,{key:0,class:"card u-flex justify-between"},{default:y((()=>[-1!=N.value.indexOf("保证金")?(n(),b(p,{key:0,class:"text-center p-[20rpx]",onClick:t[2]||(t[2]=e=>S("/bundle/pages/deposit/index"))},{default:y((()=>[f(p,{class:"text-2xl font-bold text-[#dd6161]"},{default:y((()=>{var e;return[k(d((null==(e=v(q))?void 0:e.staff_deposit)||0),1)]})),_:1}),f(p,{class:"font-bold"},{default:y((()=>[k("保证金")])),_:1})])),_:1})):u("v-if",!0),-1!=N.value.indexOf("佣金")?(n(),b(p,{key:1,class:"text-center p-[20rpx]",onClick:t[3]||(t[3]=e=>S("/bundle/pages/balance/index"))},{default:y((()=>[f(p,{class:"text-2xl font-bold text-[#dd6161]"},{default:y((()=>{var e;return[k(d((null==(e=v(q))?void 0:e.staff_earnings)||0),1)]})),_:1}),f(p,{class:"font-bold"},{default:y((()=>[k("佣金")])),_:1})])),_:1})):u("v-if",!0),-1!=N.value.indexOf("服务项目")?(n(),b(p,{key:2,class:"text-center p-[20rpx]",onClick:t[4]||(t[4]=e=>S("/bundle/pages/user_info/index"))},{default:y((()=>[f(p,{class:"text-2xl font-bold text-[#dd6161]"},{default:y((()=>{var e,t;return[k(d((null==(t=null==(e=v(q))?void 0:e.goods_id)?void 0:t.length)||0),1)]})),_:1}),f(p,{class:"font-bold"},{default:y((()=>[k("服务项目")])),_:1})])),_:1})):u("v-if",!0)])),_:1})),f(p,{class:"mt-[30rpx]"},{default:y((()=>[(n(!0),i(o,null,c(H.data,((e,t)=>(n(),b(p,{key:t},{default:y((()=>["user-service"==e.name?(n(),b(G,{key:0,content:e.content,styles:e.styles},null,8,["content","styles"])):u("v-if",!0)])),_:2},1024)))),128))])),_:1})]})),_:1})])),_:1},8,["style"]),u(" 底部导航栏 "),f(L)],64)}}}),[["__scopeId","data-v-41629ae1"]]);export{H as default};
